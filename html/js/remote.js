"use strict";!function(m){var v=this,i=function(t,e){return m.Sb(t,e)},o=function(t){return m.bn(t,"zx",m.ub()),t},s=function(t,e,i){m.wa(i)||(i=[String(i)]),m.en(t.o,e,i)},c=function(t,e){var i,s,n,o=(i=t,s=e,n=[],m.Pk(s,function(t){try{var e=m.HD.prototype.A.call(this,t,!0)}catch(t){if("Storage: Invalid value was encountered"==t)return;throw t}m.u(e)?m.GD(e)&&n.push(t):n.push(t)},i),n);(0,m.D)(o,function(t){m.HD.prototype.remove.call(this,t)},t)},l=function(t){if(t.Md){if(t.Md.locationOverrideToken)return{locationOverrideToken:t.Md.locationOverrideToken};if(null!=t.Md.latitudeE7&&null!=t.Md.longitudeE7)return{latitudeE7:t.Md.latitudeE7,longitudeE7:t.Md.longitudeE7}}return null},n=function(t){m.qG[t]&&(t=m.qG[t],(0,m.D)(t,function(t){m.oG[t]&&delete m.oG[t]}),t.length=0)},h=function(t){var e=m.nG();if(e)if(e.clear(t),t)n(t);else for(var i in m.qG)n(i)},y=function(t){this.app=this.name=this.id="",this.type="REMOTE_CONTROL",this.obfuscatedGaiaId=this.avatar=this.username="",this.B=!1,this.capabilities=new v.Set,this.experiments=new v.Set,this.theme="u",new m.Nm,this.o=this.A="",t&&(this.id=t.id||t.name,this.name=t.name,this.app=t.app,this.type=t.type||"REMOTE_CONTROL",this.username=t.user||"",this.avatar=t.userAvatarUri||"",this.obfuscatedGaiaId=t.obfuscatedGaiaId||"",this.theme=t.theme||"u",e(this,t.capabilities||""),r(this,t.experiments||""),this.A=t.remoteControllerUrl||"",this.o=t.localChannelEncryptionKey||"")},e=function(e,t){e.capabilities.clear(),(0,m.Xd)(t.split(","),m.Ca(i,as)).forEach(function(t){e.capabilities.add(t)})},r=function(e,t){e.experiments.clear(),t.split(",").forEach(function(t){e.experiments.add(t)})},a=function(t){t=t||{},this.name=t.name||"",this.id=t.id||t.screenId||"",this.token=t.token||t.loungeToken||"",this.uuid=t.uuid||t.dialId||""},u=function(t,e){return!!e&&(t.id==e||t.uuid==e)},d=function(t){return{name:t.name,screenId:t.id,loungeToken:t.token,dialId:t.uuid}},f=function(t){return new a(t)},p=function(t){return m.wa(t)?(0,m.J)(t,f):[]},g=function(t){return t?'{name:"'+t.name+'",id:'+t.id.substr(0,6)+"..,token:"+(t.token?".."+t.token.slice(-6):"-")+",uuid:"+(t.uuid?".."+t.uuid.slice(-6):"-")+"}":"null"},b=function(t){return m.wa(t)?"["+(0,m.J)(t,g).join(",")+"]":"null"},C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},A=function(t,e){return m.Ha(t,function(t){return!t&&!e||!t==!e&&t.id==e.id})},B=function(t,e){return m.Ha(t,function(t){return u(t,e)})},S=function(){var t=m.CH("yt-remote-connected-devices")||[];return m.db(t),t},k=function(t){m.BH("yt-remote-connected-devices",t,86400)},w=function(){if(us)return us;var t=m.CH("yt-remote-device-id");t||(t=C(),m.BH("yt-remote-device-id",t,31536e3));for(var e=S(),i=1,s=t;m.Ma(e,s);)s=t+"#"+ ++i;return us=s},x=function(){var t=S(),e=w();if(m.Ma(t,e),m.EH()&&m.fb(t,e),t=function(t){if(m.Na(t))return[];var e=t[0].indexOf("#"),i=-1==e?t[0]:t[0].substring(0,e);return(0,m.J)(t,function(t,e){return 0==e?t:t.substring(i.length)})}(t),m.Na(t))try{m.YG("remote_sid")}catch(t){}else try{m.XG("remote_sid",t.join(","),-1)}catch(t){}},D=function(){return m.CH("yt-remote-session-browser-channel")},I=function(){return m.CH("yt-remote-local-screens")||[]},E=function(){m.BH("yt-remote-lounge-token-expiration",!0,86400)},N=function(t){t||(m.DH("yt-remote-session-screen-id"),m.DH("yt-remote-session-video-id")),x(),t=S(),m.Sa(t,w()),k(t)},G=function(){if(!cs){var t=m.SD();t&&(cs=new m.BD(t))}return!!cs&&!!cs.get("yt-remote-use-staging-server")},T=function(t){t=void 0===t?null:t;var e,i=(e=v.document.createElement("a"),m.hd(e,"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),e=e.href.replace(/^[a-zA-Z]+:\/\//,"//"),"js-"+m.yb(e)),s=v.document.getElementById(i),n=s&&m.xF(s,"loaded");n||s&&!n||(s=function(t,e,i){i=void 0===i?null:i;var s=m.Qd("SCRIPT");return s.id=t,s.onload=function(){e&&(0,v.setTimeout)(e,0)},s.onreadystatechange=function(){switch(s.readyState){case"loaded":case"complete":s.onload()}},i&&s.setAttribute("nonce",i),m.jd(s,m.oe("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js")),(t=v.document.getElementsByTagName("head")[0]||v.document.body).insertBefore(s,t.firstChild),s}(i,function(){m.xF(s,"loaded")||(m.wF(s,"loaded","true"),m.uG(i),m.xE(m.Ca(h,i),0))},t))},t=function(t){return!!v.document.currentScript&&(-1!=v.document.currentScript.src.indexOf("?"+t)||-1!=v.document.currentScript.src.indexOf("&"+t))},_=function(){return"function"==typeof v.__onGCastApiAvailable?v.__onGCastApiAvailable:null},H=function t(e){e.length?P(e.shift(),function(){t(e)}):R()},U=function(t){return"chrome-extension://"+t+ls},P=function(t,e,i){var s=v.document.createElement("script");s.onerror=e,i&&(s.onload=i),s.src=t,(v.document.head||v.document.documentElement).appendChild(s)},M=function(t){return 0<=v.navigator.userAgent.indexOf(t)},R=function(){var t=_();t&&t(!1,"No cast extension found")},F=function(){if(ds){var t=2,e=_(),i=function(){0==--t&&e&&e(!0)};v.__onGCastApiAvailable=i,P("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",R,i)}},L=function(t,e,i){m.L.call(this),this.F=null!=i?(0,m.B)(t,i):t,this.Ed=e,this.D=(0,m.B)(this.hL,this),this.o=!1,this.A=0,this.B=this.Ga=null,this.C=[]},j=function(){},O=function(t,e,i,s){this.o=t,this.B=e,this.G=i,this.F=s||1,this.C=45e3,this.Y=new m.jn(this),this.A=new m.Ag,this.A.setInterval(250)},z=function(t,e,i){t.Vj=1,t.yh=o(e.clone()),t.hj=i,t.D=!0,J(t,null)},V=function(t,e,i,s,n){t.Vj=1,t.yh=o(e.clone()),t.hj=null,t.D=i,n&&(t.AF=!1),J(t,s)},J=function(t,e){t.Sk=(0,m.H)(),K(t),t.Yh=t.yh.clone(),s(t.Yh,"t",t.F),t.Cn=0,t.Wc=t.o.Vs(t.o.tn()?e:null),0<t.Nt&&(t.Jq=new m.ul((0,m.B)(t.WG,t,t.Wc),t.Nt)),t.Y.W(t.Wc,"readystatechange",t.IW);var i=t.Fi?m.bc(t.Fi):{};t.hj?(t.xr="POST",i["Content-Type"]="application/x-www-form-urlencoded",t.Wc.send(t.Yh,t.xr,t.hj,i)):(t.xr="GET",t.AF&&!m.Kd&&(i.Connection="close"),t.Wc.send(t.Yh,t.xr,null,i)),t.o.Gf(1)},X=function(t,e,i){for(var s=!0;!t.ni&&t.Cn<i.length;){var n=q(t,i);if(n==ms){4==e&&(t.zh=4,Nt(15),s=!1);break}if(n==ps){t.zh=4,Nt(16),s=!1;break}tt(t,n)}4==e&&0==i.length&&(t.zh=1,Nt(17),s=!1),t.Nf=t.Nf&&s,s||(Q(t),$(t))},q=function(t,e){var i=t.Cn,s=e.indexOf("\n",i);if(-1==s)return ms;if(i=Number(e.substring(i,s)),(0,v.isNaN)(i))return ps;if((s+=1)+i>e.length)return ms;var n=e.substr(s,i);return t.Cn=s+i,n},Y=function(e,t){e.Sk=(0,m.H)(),K(e);var i=t?v.location.hostname:"";e.Yh=e.yh.clone(),m.bn(e.Yh,"DOMAIN",i),m.bn(e.Yh,"t",e.F);try{e.Of=new v.ActiveXObject("htmlfile")}catch(t){return Q(e),e.zh=7,Nt(22),void $(e)}var s="<html><body>";if(t){for(var n="",o=0;o<i.length;o++){var h=i.charAt(o);if("<"==h)n+="\\x3c";else if(">"==h)n+="\\x3e";else{var r=h;if(r in hs)h=hs[r];else if(r in os)h=hs[r]=os[r];else{var a=r.charCodeAt(0);31<a&&a<127?h=r:(a<256?(h="\\x",(a<16||256<a)&&(h+="0")):(h="\\u",a<4096&&(h+="0")),h+=a.toString(16).toUpperCase()),h=hs[r]=h}n+=h}}s+='<script>document.domain="'+n+'"<\/script>'}i=m.kd(m.zc("b/12014412"),s+"</body></html>"),e.Of.open(),e.Of.write(m.ad(i)),e.Of.close(),e.Of.parentWindow.m=(0,m.B)(e.MV,e),e.Of.parentWindow.d=(0,m.B)(e.JE,e,!0),e.Of.parentWindow.rpcClose=(0,m.B)(e.JE,e,!1),i=e.Of.createElement("DIV"),e.Of.parentWindow.document.body.appendChild(i),s=m.Oc(e.Yh.toString()),s=m.nb(m.Lc(s)),s=m.kd(m.zc("b/12014412"),'<iframe src="'+s+'"></iframe>'),m.gd(i,m.ad(s)),e.o.Gf(1)},K=function(t){t.Fx=(0,m.H)()+t.C,W(t,t.C)},W=function(t,e){if(null!=t.ol)throw Error("WatchDog timer not null");t.ol=Et((0,m.B)(t.cW,t),e)},Z=function(t){t.ol&&(m.x.clearTimeout(t.ol),t.ol=null)},$=function(t){t.o.OA()||t.ni||t.o.rq(t)},Q=function(t){if(Z(t),m.lf(t.Jq),t.Jq=null,t.A.stop(),m.pn(t.Y),t.Wc){var e=t.Wc;t.Wc=null,e.abort(),e.dispose()}t.Of&&(t.Of=null)},tt=function(t,e){try{t.o.BE(t,e),t.o.Gf(4)}catch(t){}},et=function(t,e,i){var s=new v.Image;s.onload=function(){try{it(s),i(!0)}catch(t){}},s.onerror=function(){try{it(s),i(!1)}catch(t){}},s.onabort=function(){try{it(s),i(!1)}catch(t){}},s.ontimeout=function(){try{it(s),i(!1)}catch(t){}},m.x.setTimeout(function(){s.ontimeout&&s.ontimeout()},e),s.src=t},it=function(t){t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null},st=function(t){this.o=t,this.A=new j},nt=function(t){var e=It(t.o,t.wl,"/mail/images/cleardot.gif");o(e),function e(i,s,n,o,t){if(0==o)n(!1);else{var h=t||0;o--,et(i,s,function(t){t?n(!0):m.x.setTimeout(function(){e(i,s,n,o,h)},h)})}}(e.toString(),5e3,(0,m.B)(t.kK,t),3,2e3),t.Gf(1)},ot=function(t){var e=t.o.J;if(null!=e)Nt(5),e?(Nt(11),Bt(t.o,t,!1)):(Nt(12),Bt(t.o,t,!0));else if(t.Ie=new O(t,void 0,void 0,void 0),t.Ie.Fi=t.Lt,e=t.o,e=It(e,e.tn()?t.gm:null,t.Mt),Nt(5),!m.Id||m.rc(10))s(e,"TYPE","xmlhttp"),V(t.Ie,e,!1,t.gm,!1);else{s(e,"TYPE","html");var i=t.Ie;t=!!t.gm,i.Vj=3,i.yh=o(e.clone()),Y(i,t)}},ht=function(t,e,i){this.o=1,this.A=[],this.C=[],this.D=new j,this.H=t||null,this.J=null!=e?e:null,this.F=i||!1},rt=function(t,e){this.o=t,this.map=e,this.context=null},at=function(t){m.nf.call(this,"statevent",t)},ct=function(t,e){m.nf.call(this,"timingevent",t),this.size=e},ut=function(t){m.nf.call(this,"serverreachability",t)},lt=function(t){if(ft(t),3==t.o){var e=t.Zm++,i=t.Zo.clone();m.bn(i,"SID",t.B),m.bn(i,"RID",e),m.bn(i,"TYPE","terminate"),gt(t,i),(e=new O(t,t.B,e,void 0)).Vj=2,e.yh=o(i.clone()),(new v.Image).src=e.yh,e.Sk=(0,m.H)(),K(e)}Dt(t)},dt=function(t){t.IK(1,0),t.Zo=It(t,null,t.Kt),mt(t)},ft=function(t){t.ph&&(t.ph.abort(),t.ph=null),t.yc&&(t.yc.cancel(),t.yc=null),t.zg&&(m.x.clearTimeout(t.zg),t.zg=null),St(t),t.ke&&(t.ke.cancel(),t.ke=null),t.sh&&(m.x.clearTimeout(t.sh),t.sh=null)},pt=function(t,e){if(0==t.o)throw Error("Invalid operation: sending map when state is closed");t.A.push(new rt(t.wR++,e)),2!=t.o&&3!=t.o||mt(t)},mt=function(t){t.ke||t.sh||(t.sh=Et((0,m.B)(t.HE,t),0),t.Lj=0)},vt=function(t,e){if(1==t.o){if(!e){t.Zm=Math.floor(1e5*Math.random());var i=t.Zm++,s=new O(t,"",i,void 0);s.Fi=null;var n=bt(t),o=t.Zo.clone();m.bn(o,"RID",i),m.bn(o,"CVER","1"),gt(t,o),z(s,o,n),t.ke=s,t.o=2}}else 3==t.o&&(e?yt(t,e):0==t.A.length||t.ke||yt(t))},yt=function(t,e){if(e)if(6<t.pi){t.A=t.C.concat(t.A),t.C.length=0;var i=t.Zm-1,s=bt(t)}else i=e.G,s=e.hj;else i=t.Zm++,s=bt(t);var n=t.Zo.clone();m.bn(n,"SID",t.B),m.bn(n,"RID",i),m.bn(n,"AID",t.mk),gt(t,n),(i=new O(t,t.B,i,t.Lj+1)).Fi=null,i.setTimeout(1e4+Math.round(1e4*Math.random())),t.ke=i,z(i,n,s)},gt=function(t,i){if(t.Dd){var e=t.Dd.uA();e&&m.Gb(e,function(t,e){m.bn(i,e,t)})}},bt=function(t){var e=Math.min(t.A.length,1e3),i=["count="+e];if(6<t.pi&&0<e){var s=t.A[0].o;i.push("ofs="+s)}else s=0;for(var n=0;n<e;n++){var o=t.A[n].o,h=t.A[n].map;o=t.pi<=6?n:o-s;try{m.Gb(h,function(t,e){i.push("req"+o+"_"+e+"="+(0,v.encodeURIComponent)(t))})}catch(t){i.push("req"+o+"_type="+(0,v.encodeURIComponent)("_badmap"))}}return t.C=t.C.concat(t.A.splice(0,e)),i.join("&")},Ct=function(t){t.yc||t.zg||(t.G=1,t.zg=Et((0,m.B)(t.GE,t),0),t.zj=0)},At=function(t){return!(t.yc||t.zg||3<=t.zj)&&(t.G++,t.zg=Et((0,m.B)(t.GE,t),kt(t,t.zj)),t.zj++,!0)},Bt=function(t,e,i){t.vr=i,t.Zf=e.Mg,t.F||dt(t)},St=function(t){null!=t.ri&&(m.x.clearTimeout(t.ri),t.ri=null)},kt=function(t,e){var i=5e3+Math.floor(1e4*Math.random());return t.isActive()||(i*=2),i*e},wt=function(t,e){if(2==e||9==e){var i=null;t.Dd&&(i=null);var s=(0,m.B)(t.xX,t);i||(i=new m.Tm("//www.google.com/images/cleardot.gif"),o(i)),et(i.toString(),1e4,s)}else Nt(2);xt(t,e)},xt=function(t,e){t.o=0,t.Dd&&t.Dd.wz(e),Dt(t),ft(t)},Dt=function(t){if(t.o=0,t.Zf=-1,t.Dd)if(0==t.C.length&&0==t.A.length)t.Dd.Gs();else{m.Va(t.C);var e=m.Va(t.A);t.C.length=0,t.A.length=0,t.Dd.Gs(e)}},It=function(t,e,i){var s,n,o,h,r,a=m.cn(i);if(""!=a.A)e&&m.Vm(a,e+"."+a.A),m.Wm(a,a.D);else{var c=v.location;s=c.protocol,n=e?e+"."+c.hostname:c.hostname,o=+c.port,h=i,r=new m.Tm(null,void 0),s&&m.Um(r,s),n&&m.Vm(r,n),o&&m.Wm(r,o),h&&m.Xm(r,h),a=r}return t.Ll&&m.Gb(t.Ll,function(t,e){m.bn(a,e,t)}),m.bn(a,"VER",t.pi),gt(t,a),a},Et=function(t,e){if(!m.ya(t))throw Error("Fn must not be null and must be a function");return m.x.setTimeout(function(){t()},e)},Nt=function(t){vs.dispatchEvent(new at(vs,t))},Gt=function(){},Tt=function(t,e){this.action=t,this.params=e||{}},_t=function(t,e){if(m.L.call(this),this.o=new m.Cu(this.CV,0,this),m.M(this,this.o),this.Ed=5e3,this.A=0,m.ya(t))e&&(t=(0,m.B)(t,e));else{if(!t||!m.ya(t.handleEvent))throw Error("Invalid listener argument");t=(0,m.B)(t.handleEvent,t)}this.B=t},Ht=function(t,e,i){this.L=t,this.F=e,this.B=new m.AD,this.A=new _t(this.dY,this),this.o=this.ib=null,this.K=!1,this.D=null,this.J="",this.H=this.C=0,this.G=[],this.M=i||!1},Ut=function(t,e){t.H=e||0,t.A.stop(),t.o&&(3==t.o.o&&vt(t.o),lt(t.o)),t.H=0},Pt=function(t){return!!t.o&&3==t.o.o},Mt=function(t){this.port=this.domain="",this.o="/api/lounge",this.A=!0,t=t||v.document.location.href;var e=m.Pg(t)||"";e&&(this.port=":"+e),this.domain=m.Og(t)||"",0<=(t=m.Eb).search("MSIE")&&(t=t.match(/MSIE ([\d.]+)/)[1],m.xb(t,"10.0")<0&&(this.A=!1))},Rt=function(t,e){var i=t.o;return!m.u(void 0)&&t.A&&(i="https://"+t.domain+t.port+t.o),m.Yg(i+e,{})},Ft=function(t,e,i,s,n){return t={format:"JSON",method:"POST",context:t,timeout:5e3,withCredentials:!1,onSuccess:m.Ca(t.C,s,!0),onError:m.Ca(t.B,n),Id:m.Ca(t.D,n)},i&&(t.Ub=i,t.headers={"Content-Type":"application/x-www-form-urlencoded"}),m.OE(e,t)},Lt=function(t,e){jt();var i=gs,s=Vt(t,String(e));m.Na(i)?Ot(s):(zt(i),(0,m.D)(i,function(t){t(s)}))},jt=function(){gs||(gs=m.y("yt.mdx.remote.debug.handlers_")||[],m.ta("yt.mdx.remote.debug.handlers_",gs,void 0))},Ot=function(t){var e=(Cs+1)%50;bs[Cs=e]=t,As||(As=49==e)},zt=function(t){var e=bs;if(e[0]){var i=Cs,s=As?i:-1;do{var n=e[s=(s+1)%50];(0,m.D)(t,function(t){t(n)})}while(s!=i);bs=Array(50),As=!(Cs=-1)}},Vt=function(t,e){var i=((0,m.H)()-ys)/1e3;i.toFixed&&(i=i.toFixed(3));var s=[];return s.push("[",i+"s","] "),s.push("[","yt.mdx.remote","] "),s.push(t+": "+e,"\n"),s.join("")},Jt=function(t){m.eG.call(this),this.G=t,this.o=[]},Xt=function(t,e){var i=t.get(e.uuid)||t.get(e.id);if(i){var s=i.name;return i.id=e.id||i.id,i.name=e.name,i.token=e.token,i.uuid=e.uuid||i.uuid,i.name!=s}return t.o.push(e),!0},qt=function(t,e,i,s){m.eG.call(this),this.F=t,this.D=e,this.B=i,this.C=s,this.A=0,this.o=null,this.Ga=v.NaN},Yt=function(t){Jt.call(this,"LocalScreenService"),this.B=t,this.A=v.NaN,Wt(this),this.info("Initializing with "+b(this.o))},Kt=function(t){if(t.o.length){var e=(0,m.J)(t.o,function(t){return t.id}),i=Rt(t.B,"/pairing/get_lounge_token_batch");Ft(t.B,i,{screen_ids:e.join(",")},(0,m.B)(t.uL,t),(0,m.B)(t.tL,t))}},Wt=function(t){var e=p(I());return function(t,e){var i=t.o.length!=e.length;t.o=(0,m.Xd)(t.o,function(t){return!!A(e,t)});for(var s=0,n=e.length;s<n;s++)i=Xt(t,e[s])||i;return i}(t,e=(0,m.Xd)(e,function(t){return!t.uuid}))},Zt=function(t,e){!function(t){5<t.length&&(t=t.slice(t.length-5));var e=(0,m.J)(I(),function(t){return t.loungeToken}),i=(0,m.J)(t,function(t){return t.loungeToken});(0,m.Bm)(i,function(t){return!m.Ma(e,t)})&&E(),m.BH("yt-remote-local-screens",t,31536e3)}((0,m.J)(t.o,d)),e&&E()},$t=function(t,e){m.eG.call(this),this.F=e;var i=m.CH("yt-remote-online-screen-ids")||"";i=i?i.split(","):[];for(var s={},n=this.F(),o=0,h=n.length;o<h;++o){var r=n[o].id;s[r]=m.Ma(i,r)}this.o=s,this.D=t,this.B=this.C=v.NaN,this.A=null,ie("Initialized with "+m.Gg(this.o))},Qt=function(t,s,n){var e=Rt(t.D,"/pairing/get_screen_availability");Ft(t.D,e,{lounge_token:s.token},(0,m.B)(function(t){for(var e=0,i=(t=t.screens||[]).length;e<i;++e)if(t[e].loungeToken==s.token)return void n("online"==t[e].status);n(!1)},t),(0,m.B)(function(){n(!1)},t))},te=function(t,e){t:if(m.Mb(e)!=m.Mb(t.o))var i=!1;else{for(var s=0,n=(i=m.Pb(e)).length;s<n;++s)if(!t.o[i[s]]){i=!1;break t}i=!0}i||(ie("Updated online screens: "+m.Gg(t.o)),t.o=e,t.U("screenChange")),ne(t)},ee=function(t){(0,v.isNaN)(t.B)||m.zE(t.B),t.B=m.xE((0,m.B)(t.Gw,t),0<t.C&&t.C<(0,m.H)()?2e4:1e4)},ie=function(t){Lt("OnlineScreenService",t)},se=function(t){var e={};return(0,m.D)(t.F(),function(t){t.token?e[t.token]=t.id:this.sc("Requesting availability of screen w/o lounge token.")}),e},ne=function(t){t=m.Pb(m.Hb(t.o,function(t){return t})),m.db(t),t.length?m.BH("yt-remote-online-screen-ids",t.join(","),60):m.DH("yt-remote-online-screen-ids")},oe=function(t){Jt.call(this,"ScreenService"),this.F=t,this.A=this.B=null,this.C=[],this.D={},ue(this)},he=function(t,i,s,n,o,e){t.info("getAutomaticScreenByIds "+s+" / "+i),s||(s=t.D[i]);var h=t.De();if(h=(s?B(h,s):null)||B(h,i)){h.uuid=i;var r=le(t,h);Qt(t.A,r,function(t){o(t?r:null)})}else s?ae(t,s,(0,m.B)(function(t){var e=le(this,new a({name:n,screenId:s,loungeToken:t,dialId:i||""}));Qt(this.A,e,function(t){o(t?e:null)})},t),e):o(null)},re=function(t,e){for(var i=0,s=t.o.length;i<s;++i)if(t.o[i].name==e)return t.o[i];return null},ae=function(t,s,n,o){t.info("requestLoungeToken_ for "+s);var e={Ub:{screen_ids:s},method:"POST",context:t,onSuccess:function(t,e){var i=e&&e.screens||[];i[0]&&i[0].screenId==s?n(i[0].loungeToken):o(Error("Missing lounge token in token response"))},onError:function(){o(Error("Request screen lounge token failed"))}};m.OE(Rt(t.F,"/pairing/get_lounge_token_batch"),e)},ce=function(t){t.o=t.B.De();var e,i=t.D,s={};for(e in i)s[i[e]]=e;for(i=0,e=t.o.length;i<e;++i){var n=t.o[i];n.uuid=s[n.id]||""}t.info("Updated manual screens: "+b(t.o))},ue=function(t){de(t),t.B=new Yt(t.F),t.B.subscribe("screenChange",(0,m.B)(t.JL,t)),ce(t),t.C=p(m.CH("yt-remote-automatic-screen-cache")||[]),de(t),t.info("Initializing automatic screens: "+b(t.C)),t.A=new $t(t.F,(0,m.B)(t.De,t,!0)),t.A.subscribe("screenChange",(0,m.B)(function(){this.U("onlineScreenChange")},t))},le=function(t,e){var i=t.get(e.id);return i?(i.uuid=e.uuid,e=i):((i=B(t.C,e.uuid))?(i.id=e.id,i.token=e.token,e=i):t.C.push(e),m.BH("yt-remote-automatic-screen-cache",(0,m.J)(t.C,d))),de(t),t.D[e.uuid]=e.id,m.BH("yt-remote-device-id-map",t.D,31536e3),e},de=function(t){t.D=m.CH("yt-remote-device-id-map")||{}},fe=function(t,e,i){m.eG.call(this),this.M=i,this.J=t,this.A=e,this.B=null},pe=function(t,e){Lt(t.M,e)},me=function(t,e){fe.call(this,t,e,"CastSession"),this.o=null,this.C=0,this.F=(0,m.B)(this.jY,this),this.D=(0,m.B)(this.oW,this),this.C=m.xE((0,m.B)(function(){ve(this,null)},this),12e4)},ve=function(t,e){if(m.zE(t.C),e){if(t.info("onConnectedScreenId_: Received screenId: "+e),!t.B||t.B.id!=e){var i=(0,m.B)(t.tq,t),s=(0,m.B)(t.He,t);t.EA(e,i,s,5)}}else t.He(Error("Waiting for session status timed out."))},ye=function(t,e,i){fe.call(this,t,e,"DialSession"),this.C=this.H=null,this.K="",this.O=i,this.D=null,this.G=m.A,this.F=v.NaN,this.L=(0,m.B)(this.mY,this),this.o=m.A},ge=function(t){t.o=t.J.eH(t.K,t.A.label,t.A.friendlyName,(0,m.B)(function(t){this.o=m.A,this.tq(t)},t),(0,m.B)(function(t){this.o=m.A,this.He(t)},t))},be=function(t){var e={};if(e.pairingCode=t.K,e.theme=t.O,t.D){var i=t.D.currentTime||0;e.v=t.D.videoId,e.t=i}return G()&&(e.env_useStageMdx=1),m.Wg(e)},Ce=function(t,e){fe.call(this,t,e,"ManualSession"),this.o=m.xE((0,m.B)(this.pk,this,null),150)},Ae=function(t,e,i,s){m.eG.call(this),this.A=t,this.G=e||"233637DE",this.F=i||"cl",this.H=s||!1,this.o=null,this.D=!1,this.B=[],this.C=(0,m.B)(this.OU,this)},Be=function(t,e){return e?m.Ha(t.B,function(t){return u(e,t.label)},t):null},Se=function(t){Lt("Controller",t)},ke=function(t){v.chrome&&v.chrome.cast&&v.chrome.cast.logMessage&&v.chrome.cast.logMessage(t)},we=function(t){return t.D||!!t.B.length||!!t.o},xe=function(t,e,i){e!=t.o&&(m.lf(t.o),(t.o=e)?(i?t.U("yt-remote-cast2-receiver-resumed",e.A):t.U("yt-remote-cast2-receiver-selected",e.A),e.subscribe("sessionScreen",(0,m.B)(t.EE,t,e)),e.B?t.U("yt-remote-cast2-session-change",e.B):i&&t.o.pk(null)):t.U("yt-remote-cast2-session-change",null))},De=function(t){var e=t.A.dH(),s=t.o&&t.o.A;return t=(0,m.J)(e,function(t){s&&u(t,s.label)&&(s=null);var e=t.uuid?t.uuid:t.id,i=Be(this,t);return i?(i.label=e,i.friendlyName=t.name):(i=new v.chrome.cast.Receiver(e,t.name)).receiverType=v.chrome.cast.ReceiverType.CUSTOM,i},t),s&&(s.receiverType!=v.chrome.cast.ReceiverType.CUSTOM&&((s=new v.chrome.cast.Receiver(s.label,s.friendlyName)).receiverType=v.chrome.cast.ReceiverType.CUSTOM),t.push(s)),t},Ie=function(i,t,s,e,n,o,h){var r,a;Pe()?Me(t,n,o,h)&&(Je(!0),v.chrome&&v.chrome.cast&&v.chrome.cast.isAvailable?Fe(i,s):(v.__onGCastApiAvailable=function(t,e){t?Fe(i,s):(je("Failed to load cast API: "+e),Oe(!1),Je(!1),m.DH("yt-remote-cast-available"),m.DH("yt-remote-cast-receiver"),Ee(),s(!1))},e?(a=void 0===a?null:a,v.spf?v.spf.script.load("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js","",void 0):T(a)):M("CriOS")?(r=v.__gCrWeb&&v.__gCrWeb.message&&v.__gCrWeb.message.invokeOnHost)&&(F(),r({command:"cast.sender.init"})):M("Android")&&M("Chrome/")&&v.navigator.presentation?function(){F();var t=v.navigator.userAgent.match(/Chrome\/([0-9]+)/);H(["//www.gstatic.com/eureka/clank/"+(t?(0,v.parseInt)(t[1],10):0)+ls,"//www.gstatic.com/eureka/clank"+ls])}():v.chrome&&v.navigator.presentation&&!M("Edge")?(F(),H(fs.map(U))):R())):Le("Cannot initialize because not running Chrome")},Ee=function(){Le("dispose");var t=Re();t&&t.dispose(),m.ta("yt.mdx.remote.cloudview.instance_",null,void 0),Ve(!1),m.sG(Ss),Ss.length=0},Ne=function(){return!!m.CH("yt-remote-cast-installed")},Ge=function(){var t=m.CH("yt-remote-cast-receiver");return t?t.friendlyName:null},Te=function(){Le("clearCurrentReceiver"),m.DH("yt-remote-cast-receiver")},_e=function(){return Ne()?Re()?Re().getCastSession():(je("getCastSelector: Cast is not initialized."),null):(je("getCastSelector: Cast API is not installed!"),null)},He=function t(){Ne()?Re()?ze()?(Le("Requesting cast selector."),Re().requestSession()):(Le("Wait for cast API to be ready to request the session."),Ss.push(m.rG("yt-remote-cast2-api-ready",t))):je("requestCastSelector: Cast is not initialized."):je("requestCastSelector: Cast API is not installed!")},Ue=function(t,e){ze()?Re().setConnectedScreenStatus(t,e):je("setConnectedScreenStatus called before ready.")},Pe=function(){var t=0<=m.Eb.search(/ (CrMo|Chrome|CriOS)\//);return m.RI||t},Me=function(t,e,i,s){var n=!1;return Re()||((t=new Ae(t,e,i,s)).subscribe("yt-remote-cast2-availability-change",function(t){m.BH("yt-remote-cast-available",t),m.vG("yt-remote-cast2-availability-change",t)}),t.subscribe("yt-remote-cast2-receiver-selected",function(t){Le("onReceiverSelected: "+t.friendlyName),m.BH("yt-remote-cast-receiver",t),m.vG("yt-remote-cast2-receiver-selected",t)}),t.subscribe("yt-remote-cast2-receiver-resumed",function(t){Le("onReceiverResumed: "+t.friendlyName),m.BH("yt-remote-cast-receiver",t)}),t.subscribe("yt-remote-cast2-session-change",function(t){Le("onSessionChange: "+g(t)),t||m.DH("yt-remote-cast-receiver"),m.vG("yt-remote-cast2-session-change",t)}),m.ta("yt.mdx.remote.cloudview.instance_",t,void 0),n=!0),Le("cloudview.createSingleton_: "+n),n},Re=function(){return m.y("yt.mdx.remote.cloudview.instance_")},Fe=function(t,e){var i,s;Oe(!0),Je(!1),i=t,s=function(t){t?(Ve(!0),m.uG("yt-remote-cast2-api-ready")):(je("Failed to initialize cast API."),Oe(!1),m.DH("yt-remote-cast-available"),m.DH("yt-remote-cast-receiver"),Ee()),e(t)},Re().init(i,s)},Le=function(t){Lt("cloudview",t)},je=function(t){Lt("cloudview",t)},Oe=function(t){Le("setCastInstalled_ "+t),m.BH("yt-remote-cast-installed",t)},ze=function(){return!!m.y("yt.mdx.remote.cloudview.apiReady_")},Ve=function(t){Le("setApiReady_ "+t),m.ta("yt.mdx.remote.cloudview.apiReady_",t,void 0)},Je=function(t){m.ta("yt.mdx.remote.cloudview.initializing_",t,void 0)},Xe=function(t){this.index=-1,this.videoId=this.listId="",this.volume=this.playerState=-1,this.muted=!1,this.audioTrackId=null,this.F=this.G=0,this.o=null,this.hasNext=this.eg=!1,this.J=this.H=this.A=this.C=0,this.B=v.NaN,this.D=!1,this.reset(t)},qe=function(t){t.audioTrackId=null,t.o=null,t.playerState=-1,t.eg=!1,t.hasNext=!1,t.G=0,t.F=(0,m.H)(),t.C=0,t.A=0,t.H=0,t.J=0,t.B=v.NaN,t.D=!1},Ye=function(t){return t.sb()?((0,m.H)()-t.F)/1e3:0},Ke=function(t,e){t.G=e,t.F=(0,m.H)()},We=function(t){switch(t.playerState){case 1:case 1081:return((0,m.H)()-t.F)/1e3+t.G;case-1e3:return 0}return t.G},Ze=function(t,e,i){var s=t.videoId;t.videoId=e,t.index=i,e!=s&&qe(t)},$e=function(t){var e={};return e.index=t.index,e.listId=t.listId,e.videoId=t.videoId,e.playerState=t.playerState,e.volume=t.volume,e.muted=t.muted,e.audioTrackId=t.audioTrackId,e.trackData=m.cc(t.o),e.hasPrevious=t.eg,e.hasNext=t.hasNext,e.playerTime=t.G,e.playerTimeAt=t.F,e.seekableStart=t.C,e.seekableEnd=t.A,e.duration=t.H,e.loadedTime=t.J,e.liveIngestionTime=t.B,e},Qe=function(t,e){m.eG.call(this),this.o=0,this.C=t,this.F=[],this.D=new m.QC,this.B=this.A=null,this.J=(0,m.B)(this.gS,this),this.G=(0,m.B)(this.cn,this),this.H=(0,m.B)(this.fS,this),this.K=(0,m.B)(this.tS,this);var i=0;t?3!=(i=t.getProxyState())&&(t.subscribe("proxyStateChange",this.Nx,this),ei(this)):i=3,0!=i&&(e?this.Nx(i):m.xE((0,m.B)(function(){this.Nx(i)},this),0));var s=_e();s&&ri(this,s),this.subscribe("yt-remote-cast2-session-change",this.K)},ti=function(t){return new Xe(t.C.getPlayerContextData())},ei=function(t){(0,m.D)("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange".split(" "),function(t){this.F.push(this.C.subscribe(t,m.Ca(this.JU,t),this))},t)},ii=function(t){(0,m.D)(t.F,function(t){this.C.unsubscribeByKey(t)},t),t.F.length=0},si=function(t,e){t.D.zc()<50&&m.SC(t.D,e)},ni=function(t,e,i){var s=ti(t);Ke(s,i),-1e3!=s.playerState&&(s.playerState=e),hi(t,s)},oi=function(t,e,i){t.C.sendMessage(e,i)},hi=function(t,e){ii(t),t.C.setPlayerContextData($e(e)),ei(t)},ri=function(t,e){t.B&&(t.B.removeUpdateListener(t.J),t.B.removeMediaListener(t.G),t.cn(null)),t.B=e,t.B&&(Lt("CP","Setting cast session: "+t.B.sessionId),t.B.addUpdateListener(t.J),t.B.addMediaListener(t.G),t.B.media.length&&t.cn(t.B.media[0]))},ai=function(t){var e=t.A.media,i=t.A.customData;if(e&&i){var s=ti(t);e.contentId!=s.videoId&&Lt("CP","Cast changing video to: "+e.contentId),s.videoId=e.contentId,s.playerState=i.playerState,Ke(s,t.A.getEstimatedTime()),hi(t,s)}else Lt("CP","No cast media video. Ignoring state update.")},ci=function(t,e,i){return(0,m.B)(function(t){this.sc("Failed to "+e+" with cast v2 channel. Error code: "+t.code),t.code!=v.chrome.cast.ErrorCode.TIMEOUT&&(this.sc("Retrying "+e+" using MDx browser channel."),oi(this,e,i))},t)},ui=function(t,e,i){var s,n;m.eG.call(this),this.D=v.NaN,this.O=!1,this.K=this.J=this.L=this.M=v.NaN,this.V=[],this.C=this.G=this.B=this.jb=this.o=null,this.pa=t,this.V.push(m.OF(v,"beforeunload",(0,m.B)(this.lL,this))),this.A=[],this.jb=new Xe,this.ba=e.id,this.o=di(this,i),this.o.subscribe("handlerOpened",this.kS,this),this.o.subscribe("handlerClosed",this.hS,this),this.o.subscribe("handlerError",this.iS,this),this.o.subscribe("handlerMessage",this.jS,this),s=this.o,n=e.token,(s.F.loungeIdToken=n)||s.A.stop(),this.subscribe("remoteQueueChange",function(){var t=this.jb.videoId;m.EH()&&m.BH("yt-remote-session-video-id",t)},this)},li=function(t){Lt("conn",t)},di=function(t,e){return new Ht(Rt(t.pa,"/bc"),e)},fi=function(t,e){t.U("proxyStateChange",e)},pi=function(t){m.zE(t.D),t.D=v.NaN},mi=function(t){m.zE(t.M),t.M=v.NaN},vi=function(t){m.zE(t.L),t.L=v.NaN},yi=function(t,e){e&&(pi(t),mi(t)),e==(Pt(t.o)&&(0,v.isNaN)(t.D))?e&&(fi(t,1),Ai(t,"getSubtitlesTrack")):e?(t.Z()&&t.jb.reset(),fi(t,1),Ai(t,"getNowPlaying"),Ci(t)):t.F(1)},gi=function(t,e){var i=e.params.videoId||e.params.video_id,s=(0,v.parseInt)(e.params.currentIndex,10);t.jb.listId=e.params.listId||t.jb.listId,Ze(t.jb,i,s),t.U("remoteQueueChange")},bi=function(t,e){var i=(0,v.parseInt)(e.params.currentTime||e.params.current_time,10);Ke(t.jb,(0,v.isNaN)(i)?0:i),i=(0,v.parseInt)(e.params.state,10),-1==(i=(0,v.isNaN)(i)?-1:i)&&-1e3==t.jb.playerState&&(i=-1e3),t.jb.playerState=i,i=Number(e.params.loadedTime),t.jb.J=(0,v.isNaN)(i)?0:i,i=Number(e.params.duration),t.jb.H=(0,v.isNaN)(i)?0:i,i=t.jb;var s=Number(e.params.liveIngestionTime);i.B=s,i.D=!(0,v.isNaN)(s),i=t.jb,s=Number(e.params.seekableStartTime);var n,o=Number(e.params.seekableEndTime);i.C=(0,v.isNaN)(s)?0:s,i.A=(0,v.isNaN)(o)?0:o,1==t.jb.playerState?(vi(n=t),n.L=m.xE((0,m.B)(function(){Ai(this,"getNowPlaying")},n),2e4)):vi(t),t.U("remotePlayerChange")},Ci=function(t){m.zE(t.K),t.K=m.xE((0,m.B)(t.F,t,1),864e5)},Ai=function(t,e,i){li(i?"Sending: action="+e+", params="+m.Gg(i):"Sending: action="+e),t.o.sendMessage(e,i)},Bi=function(t){Jt.call(this,"ScreenServiceProxy"),this.nd=t,this.A=[],this.A.push(this.nd.$_s("screenChange",(0,m.B)(this.hY,this))),this.A.push(this.nd.$_s("onlineScreenChange",(0,m.B)(this.iU,this)))},Si=function(t){var e,i={device:"Desktop",app:"youtube-desktop"};i=m.mE("MDX_CONFIG")||i,(e=(0,m.zH)())&&c(e,e.o.fe(!0)),x(),ks||(ks=new Mt(i?i.loungeApiHost:void 0),G()&&(ks.o="/api/loungedev")),ws||(ws=m.y("yt.mdx.remote.deferredProxies_")||[],m.ta("yt.mdx.remote.deferredProxies_",ws,void 0)),Oi();var s=Ti();if(!s){var n=new oe(ks);m.ta("yt.mdx.remote.screenService_",n,void 0),s=Ti();var o=!1,h=void 0,r=void 0,a=!1;i&&(o=!!i.loadCastApiSetupScript,h=i.appId,r=i.theme,a=!!i.disableDial),Ie(t,n,function(t){t?_i()&&Ue(_i(),"YouTube TV"):n.subscribe("onlineScreenChange",function(){m.vG("yt-remote-receiver-availability-change")})},o,h,r,a)}i&&!m.y("yt.mdx.remote.initialized_")&&(m.ta("yt.mdx.remote.initialized_",!0,void 0),Gi("Initializing: "+m.Gg(i)),Ds.push(m.rG("yt-remote-cast2-availability-change",function(){m.vG("yt-remote-receiver-availability-change")})),Ds.push(m.rG("yt-remote-cast2-receiver-selected",function(){Pi(null),m.vG("yt-remote-auto-connect","cast-selector-receiver")})),Ds.push(m.rG("yt-remote-cast2-receiver-resumed",function(){m.vG("yt-remote-receiver-resumed","cast-selector-receiver")})),Ds.push(m.rG("yt-remote-cast2-session-change",Ii)),Ds.push(m.rG("yt-remote-connection-change",function(t){t?Ue(_i(),"YouTube TV"):Fi()||(Ue(null,null),Te())})),t=zi(),i.isAuto&&(t.id+="#dial"),m.uE("desktop_enable_autoplay")&&(t.capabilities=["atp"]),t.name=i.device,t.app=i.app,(r=i.theme)&&(t.theme=r),Gi(" -- with channel params: "+m.Gg(t)),Vi(t),s.start(),_i()||ji())},ki=function(){var t,e=Ti().nd.$_gos(),i=Di();return i&&Mi()&&(A(e,i)||e.push(i)),t=e,(0,m.J)(t,function(t){return{key:t.id,name:t.name}})},wi=function(){var t=xi();return!t&&Ne()&&Ge()&&(t={key:"cast-selector-receiver",name:Ge()}),t},xi=function(){var t=ki(),e=Di();return e||(e=Fi()),m.Ha(t,function(t){return!(!e||!u(e,t.key))})},Di=function(){var t=_i();if(!t)return null;var e=Ti().De();return B(e,t)},Ii=function(t){if(Gi("remote.onCastSessionChange_: "+g(t)),t){var e=Di();e&&e.id==t.id?Ue(e.id,"YouTube TV"):(e&&Ei(),Li(t,1))}else Mi()&&Ei()},Ei=function(){ze()?Re().stopSession():je("stopSession called before API ready.");var t=Mi();t&&(t.disconnect(1),Ri(null))},Ni=function(){var t=Mi();return!!t&&3!=t.getProxyState()},Gi=function(t){Lt("remote",t)},Ti=function(){if(!xs){var t=m.y("yt.mdx.remote.screenService_");xs=t?new Bi(t):null}return xs},_i=function(){return m.y("yt.mdx.remote.currentScreenId_")},Hi=function(t){m.ta("yt.mdx.remote.currentScreenId_",t,void 0)},Ui=function(){return m.y("yt.mdx.remote.connectData_")},Pi=function(t){m.ta("yt.mdx.remote.connectData_",t,void 0)},Mi=function(){return m.y("yt.mdx.remote.connection_")},Ri=function(e){var t=Mi();Pi(null),e||Hi(""),m.ta("yt.mdx.remote.connection_",e,void 0),ws&&((0,m.D)(ws,function(t){t(e)}),ws.length=0),t&&!e?m.vG("yt-remote-connection-change",!1):!t&&e&&m.vG("yt-remote-connection-change",!0)},Fi=function(){var t=m.EH();if(!t)return null;var e=Ti().De();return B(e,t)},Li=function(t,e){Di()&&Di(),Hi(t.id);var i=new ui(ks,t,zi());i.connect(e,Ui()),i.subscribe("beforeDisconnect",function(t){m.vG("yt-remote-before-disconnect",t)}),i.subscribe("beforeDispose",function(){Mi()&&Ri(null)}),Ri(i)},ji=function(){var t=Fi();t?(Gi("Resume connection to: "+g(t)),Li(t,0)):(N(),Te(),Gi("Skipping connecting because no session screen found."))},Oi=function(){var t=zi();m.Xb(t)&&(t={device:"REMOTE_CONTROL",id:t=w(),name:m.CH("yt-remote-session-name")||"",app:m.CH("yt-remote-session-app")||"",mdxVersion:3},m.ta("yt.mdx.remote.channelParams_",t,void 0))},zi=function(){return m.y("yt.mdx.remote.channelParams_")||{}},Vi=function(t){t?(m.BH("yt-remote-session-app",t.app),m.BH("yt-remote-session-name",t.name)):(m.DH("yt-remote-session-app"),m.DH("yt-remote-session-name")),m.ta("yt.mdx.remote.channelParams_",t,void 0)},Ji=function(t,e,i){m.L.call(this),this.D=t,this.A=e,this.B=new m.bG(this),m.M(this,this.B),this.B.R(e,"onCaptionsTrackListChanged",this.zT),this.B.R(e,"captionschanged",this.eS),this.B.R(e,"captionssettingschanged",this.kG),this.B.R(e,"videoplayerreset",this.uq),this.B.R(e,"mdxautoplaycancel",this.jK),this.V=this.B.R(e,"onVolumeChange",this.mE),this.H=!1,(this.o=i).subscribe("proxyStateChange",this.AE,this),i.subscribe("remotePlayerChange",this.fn,this),i.subscribe("remoteQueueChange",this.uq,this),i.subscribe("autoplayUpNext",this.YD,this),i.subscribe("previousNextChange",this.xE,this),i.subscribe("nowAutoplaying",this.pE,this),i.subscribe("autoplayDismissed",this.XD,this),this.suggestion=null,this.J=new m.zP(64),this.C=new m.Cu(this.gG,500,this),m.M(this,this.C),this.F=new m.Cu(this.hG,1e3,this),m.M(this,this.F),this.L=new L(this.IX,0,this),m.M(this,this.L),this.G={},this.M=new m.Cu(this.KG,1e3,this),m.M(this,this.M),this.K=new m.ul(this.gQ,1e3,this),m.M(this,this.K),this.O=m.A,this.kG(),this.uq(),this.fn()},Xi=function(t,e){var i=t.D,s=t.A.getVideoData().lengthSeconds;i.J=e||0,i.player.U("progresssync",e,s)},qi=function(t){Xi(t,0),t.C.stop(),$i(t,new m.zP(64))},Yi=function(t,e){if(Zi(t)&&!t.H){var i=null;e&&(i={style:t.A.Yi()},m.ec(i,e)),t.o.UF(t.A.getVideoData(1).videoId,i),t.G=ti(t.o).o}},Ki=function(t,e){var i=t.A.mg();if(i)var s=i.Be(),n=i.listId.toString();var o=t.A.getVideoData(1);i=t.o;var h=o.videoId,r=s;s=o.playerParams;var a=o.ek;o=l(o);var c=ti(i),u={videoId:h,currentIndex:r=r||0};Ze(c,h,r),m.u(e)&&(Ke(c,e),u.currentTime=e),m.u(n)&&(u.listId=n),null!=s&&(u.playerParams=s),null!=a&&(u.clickTrackingParams=a),null!=o&&(u.locationInfo=m.Gg(o)),oi(i,"setPlaylist",u),n||hi(i,c),$i(t,new m.zP(1))},Wi=function(t,e){if(e){var i=t.A.Cc("captions","tracklist",{wB:1});i&&i.length?(t.A.Xd("captions","track",e),t.H=!1):(t.A.xk("captions"),t.H=!0)}else t.A.Xd("captions","track",{})},Zi=function(t){return ti(t.o).videoId==t.A.getVideoData(1).videoId},$i=function(t,e){t.F.stop();var i=t.J;if(!m.FP(i,e)){var s=m.W(e,2);s!=m.W(t.J,2)&&m.TT(t.A,s),t.J=e,ss(t.D,i,e)}},Qi=function(t){m.V.call(this,{I:"div",N:"ytp-remote",P:[{I:"div",N:"ytp-remote-display-status",P:[{I:"div",N:"ytp-remote-display-status-icon",P:[m.Yra()]},{I:"div",N:"ytp-remote-display-status-text",ca:"{{statustext}}"}]}]}),this.B=new m.RU(this,250),m.M(this,this.B),this.C=t,this.R(t,"presentingplayerstatechange",this.D),ts(this,m.PT(t))},ts=function(t,e){if(3==t.C.Ta()){var i={RECEIVER_NAME:t.C.Cc("remote","currentReceiver").name};i=m.W(e,128)?m.JU("Помилка на пристрої $RECEIVER_NAME",i):e.sb()||m.W(e,4)?m.JU("Відтворюється на пристрої $RECEIVER_NAME",i):m.JU("Підключено до пристрою $RECEIVER_NAME",i),t.updateValue("statustext",i),t.B.show()}else t.B.hide()},es=function(t,e){m.rY.call(this,"Відтворити на екрані",0,t,e),this.B=t,this.J={},this.R(t,"onMdxReceiversChange",this.L),this.R(t,"presentingplayerstatechange",this.L),this.L()},is=function(t){if(m.sU.call(this,t),this.A={key:C(),name:"Цей комп’ютер"},this.C=null,this.D=[],this.K=this.o=null,this.H=[this.A],this.B=this.A,this.F=new m.zP(64),this.J=0,this.G=-1,!m.rN(m.X(this.player))){t=this.player;var e=m.sI(t);e&&(e=e.Tm())&&(e=new es(t,e),m.M(this,e)),e=new Qi(t),m.M(this,e),m.iU(t,e.element,4)}},ss=function(t,e,i){t.F=i,t.player.U("presentingplayerstatechange",new m.KP(i,e))},ns=function(t,e){if(e.key!=t.B.key)if(e.key==t.A.key)Ei();else{t.B=e;var i=t.player.getPlaylistId(),s=t.player.getVideoData(1),n=s.videoId;if(i||n){var o=t.player.mg();if(o)for(var h=[],r=0;r<o.getLength();r++)h[r]=o.Qa(r).videoId;else h=[n];o=t.player.getCurrentTime(1),i={videoIds:h,listId:i,videoId:n,playerParams:s.playerParams,clickTrackingParams:s.ek,index:Math.max(t.player.BC(),0),currentTime:0==o?void 0:o},(s=l(s))&&(i.locationInfo=s),s=i}else s=null;Gi("Connecting to: "+m.Gg(e)),"cast-selector-receiver"==e.key?(Pi(s||null),ze()?Re().setLaunchParams(s||null):je("setLaunchParams called before ready.")):!s&&Ni()&&_i()==e.key?m.vG("yt-remote-connection-change",!0):(Ei(),Pi(s||null),s=Ti().De(),(s=B(s,e.key))&&Li(s,1))}},os={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},hs={"'":"\\'"},rs={},as={HZ:"atp",l4:"ska",C3:"que",P2:"mus",g4:"sus",T0:"dsp"};y.prototype.Ho=function(){var t=new y({id:this.id,name:this.name,app:this.app,type:this.type,user:this.username,userAvatarUri:this.avatar,obfuscatedGaiaId:this.obfuscatedGaiaId,theme:this.theme,capabilities:Array.from(this.capabilities.values()).join(","),experiments:Array.from(this.experiments.values()).join(",")});t.B=this.B,t.A=this.A,t.o=this.o};var cs,us="",ls=t("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",ds=t("loadCastFramework")||t("loadCastApplicationFramework"),fs=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];m.C(L,m.L),m.h=L.prototype,m.h.gL=function(t){this.C=arguments,this.o=!1,this.Ga?this.B=(0,m.H)()+this.Ed:this.Ga=m.Bg(this.D,this.Ed)},m.h.stop=function(){this.Ga&&(m.Cg(this.Ga),this.Ga=null),this.B=null,this.o=!1,this.C=[]},m.h.pause=function(){++this.A},m.h.resume=function(){this.A&&(--this.A,!this.A&&this.o&&(this.o=!1,this.F.apply(null,this.C)))},m.h.X=function(){this.stop(),L.fa.X.call(this)},m.h.hL=function(){this.B?(this.Ga=m.Bg(this.D,this.B-(0,m.H)()),this.B=null):(this.Ga=null,this.A?this.o=!0:(this.o=!1,this.F.apply(null,this.C)))},j.prototype.stringify=function(t){return m.x.JSON.stringify(t,void 0)},j.prototype.parse=function(t){return m.x.JSON.parse(t,void 0)},m.h=O.prototype,m.h.Fi=null,m.h.Nf=!1,m.h.ol=null,m.h.Fx=null,m.h.Sk=null,m.h.Vj=null,m.h.yh=null,m.h.Yh=null,m.h.hj=null,m.h.Wc=null,m.h.Cn=0,m.h.Of=null,m.h.xr=null,m.h.zh=null,m.h.hm=-1,m.h.AF=!0,m.h.ni=!1,m.h.Nt=0,m.h.Jq=null;var ps={},ms={};m.h=O.prototype,m.h.setTimeout=function(t){this.C=t},m.h.IW=function(t){t=t.target;var e=this.Jq;e&&3==m.Kx(t)?e.Zl():this.WG(t)},m.h.WG=function(t){try{if(t==this.Wc)t:{var e=m.Kx(this.Wc),i=this.Wc.A,s=this.Wc.getStatus();if(m.Id&&!m.rc(10)||m.Kd&&!m.qc("420+")){if(e<4)break t}else if(e<3||3==e&&!m.pf&&!m.Ox(this.Wc))break t;this.ni||4!=e||7==i||(8==i||s<=0?this.o.Gf(3):this.o.Gf(2)),Z(this);var n=this.Wc.getStatus();this.hm=n;var o=m.Ox(this.Wc);(this.Nf=200==n)?(4==e&&Q(this),this.D?(X(this,e,o),m.pf&&this.Nf&&3==e&&(this.Y.W(this.A,"tick",this.FW),this.A.start())):tt(this,o),this.Nf&&!this.ni&&(4==e?this.o.rq(this):(this.Nf=!1,K(this)))):(400==n&&0<o.indexOf("Unknown SID")?(this.zh=3,Nt(13)):(this.zh=0,Nt(14)),Q(this),$(this))}}catch(t){this.Wc&&m.Ox(this.Wc)}},m.h.FW=function(){var t=m.Kx(this.Wc),e=m.Ox(this.Wc);this.Cn<e.length&&(Z(this),X(this,t,e),this.Nf&&4!=t&&K(this))},m.h.MV=function(t){Et((0,m.B)(this.LV,this,t),0)},m.h.LV=function(t){this.ni||(Z(this),tt(this,t),K(this))},m.h.JE=function(t){Et((0,m.B)(this.KV,this,t),0)},m.h.KV=function(t){this.ni||(Q(this),this.Nf=t,this.o.rq(this),this.o.Gf(4))},m.h.cancel=function(){this.ni=!0,Q(this)},m.h.cW=function(){this.ol=null;var t=(0,m.H)();0<=t-this.Fx?(2!=this.Vj&&this.o.Gf(3),Q(this),this.zh=2,Nt(18),$(this)):W(this,this.Fx-t)},m.h=st.prototype,m.h.Lt=null,m.h.Ie=null,m.h.Kq=!1,m.h.PA=null,m.h.Vo=null,m.h.Eu=null,m.h.Mt=null,m.h.af=null,m.h.Mg=-1,m.h.gm=null,m.h.wl=null,m.h.connect=function(t){this.Mt=t,t=It(this.o,null,this.Mt),Nt(3),this.PA=(0,m.H)();var e=this.o.H;null!=e?(this.gm=e[0],(this.wl=e[1])?(this.af=1,nt(this)):(this.af=2,ot(this))):(s(t,"MODE","init"),this.Ie=new O(this,void 0,void 0,void 0),this.Ie.Fi=this.Lt,V(this.Ie,t,!1,null,!0),this.af=0)},m.h.kK=function(t){if(t)this.af=2,ot(this);else{Nt(4);var e=this.o;e.Zf=e.ph.Mg,wt(e,9)}t&&this.Gf(2)},m.h.Vs=function(t){return this.o.Vs(t)},m.h.abort=function(){this.Ie&&(this.Ie.cancel(),this.Ie=null),this.Mg=-1},m.h.OA=function(){return!1},m.h.BE=function(t,e){if(this.Mg=t.hm,0==this.af)if(e){try{var i=this.A.parse(e)}catch(t){return(i=this.o).Zf=this.Mg,void wt(i,2)}this.gm=i[0],this.wl=i[1]}else(i=this.o).Zf=this.Mg,wt(i,2);else 2==this.af&&(this.Kq?(Nt(7),this.Eu=(0,m.H)()):"11111"==e?(Nt(6),this.Kq=!0,this.Vo=(0,m.H)(),i=this.Vo-this.PA,(!m.Id||m.rc(10)||i<500)&&(this.Mg=200,this.Ie.cancel(),Nt(12),Bt(this.o,this,!0))):(Nt(8),this.Vo=this.Eu=(0,m.H)(),this.Kq=!1))},m.h.rq=function(){if(this.Mg=this.Ie.hm,this.Ie.Nf)0==this.af?this.wl?(this.af=1,nt(this)):(this.af=2,ot(this)):2==this.af&&((!m.Id||m.rc(10)?!this.Kq:this.Eu-this.Vo<200)?(Nt(11),Bt(this.o,this,!1)):(Nt(12),Bt(this.o,this,!0)));else{0==this.af?Nt(9):2==this.af&&Nt(10);var t=this.o;t.Zf=this.Mg,wt(t,2)}},m.h.tn=function(){return this.o.tn()},m.h.isActive=function(){return this.o.isActive()},m.h.Gf=function(t){this.o.Gf(t)},m.h=ht.prototype,m.h.Ll=null,m.h.ke=null,m.h.yc=null,m.h.Kt=null,m.h.Zo=null,m.h.kz=null,m.h.pp=null,m.h.Zm=0,m.h.wR=0,m.h.Dd=null,m.h.sh=null,m.h.zg=null,m.h.ri=null,m.h.ph=null,m.h.vr=null,m.h.mk=-1,m.h.KB=-1,m.h.Zf=-1,m.h.Lj=0,m.h.zj=0,m.h.pi=8;var vs=new m.Pf;m.C(at,m.nf),m.C(ct,m.nf),m.C(ut,m.nf),m.h=ht.prototype,m.h.connect=function(t,e,i,s,n){Nt(0),this.Kt=e,this.Ll=i||{},s&&m.u(n)&&(this.Ll.OSID=s,this.Ll.OAID=n),this.F?(Et((0,m.B)(this.Gz,this,t),100),dt(this)):this.Gz(t)},m.h.Gz=function(t){this.ph=new st(this),this.ph.Lt=null,this.ph.A=this.D,this.ph.connect(t)},m.h.OA=function(){return 0==this.o},m.h.HE=function(t){this.sh=null,vt(this,t)},m.h.GE=function(){this.zg=null,this.yc=new O(this,this.B,"rpc",this.G),this.yc.Fi=null,this.yc.Nt=0;var t=this.kz.clone();if(m.bn(t,"RID","rpc"),m.bn(t,"SID",this.B),m.bn(t,"CI",this.vr?"0":"1"),m.bn(t,"AID",this.mk),gt(this,t),!m.Id||m.rc(10))m.bn(t,"TYPE","xmlhttp"),V(this.yc,t,!0,this.pp,!1);else{m.bn(t,"TYPE","html");var e=this.yc,i=!!this.pp;e.Vj=3,e.yh=o(t.clone()),Y(e,i)}},m.h.BE=function(t,e){if(0!=this.o&&(this.yc==t||this.ke==t))if(this.Zf=t.hm,this.ke==t&&3==this.o)if(7<this.pi){try{var i=this.D.parse(e)}catch(t){i=null}if(m.wa(i)&&3==i.length)if(0==i[0]){t:if(!this.zg){if(this.yc){if(!(this.yc.Sk+3e3<this.ke.Sk))break t;St(this),this.yc.cancel(),this.yc=null}At(this),Nt(19)}}else this.KB=i[1],0<this.KB-this.mk&&i[2]<37500&&this.vr&&0==this.zj&&!this.ri&&(this.ri=Et((0,m.B)(this.ZR,this),6e3));else wt(this,11)}else e!=rs.J_.o&&wt(this,11);else if(this.yc==t&&St(this),!m.F(e)){i=this.D.parse(e),m.wa(i);for(var s=0;s<i.length;s++){var n=i[s];this.mk=n[0],n=n[1],2==this.o?"c"==n[0]?(this.B=n[1],this.pp=n[2],n=n[3],this.pi=null!=n?n:6,this.o=3,this.Dd&&this.Dd.yz(),this.kz=It(this,this.tn()?this.pp:null,this.Kt),Ct(this)):"stop"==n[0]&&wt(this,7):3==this.o&&("stop"==n[0]?wt(this,7):"noop"!=n[0]&&this.Dd&&this.Dd.xz(n),this.zj=0)}}},m.h.ZR=function(){null!=this.ri&&(this.ri=null,this.yc.cancel(),this.yc=null,At(this),Nt(20))},m.h.rq=function(t){if(this.yc==t){St(this),this.yc=null;var e=2}else{if(this.ke!=t)return;this.ke=null,e=1}if(this.Zf=t.hm,0!=this.o)if(t.Nf)1==e?(e=(0,m.H)()-t.Sk,vs.dispatchEvent(new ct(vs,t.hj?t.hj.length:0,e,this.Lj)),mt(this),this.C.length=0):Ct(this);else{var i,s=t.zh;if((i=3==s||7==s||0==s&&0<this.Zf)||((i=1==e)&&(i=!(this.ke||this.sh||1==this.o||2<=this.Lj)&&(this.sh=Et((0,m.B)(this.HE,this,t),kt(this,this.Lj)),this.Lj++,!0)),i=!(i||2==e&&At(this))),i)switch(s){case 1:wt(this,5);break;case 4:wt(this,10);break;case 3:wt(this,6);break;case 7:wt(this,12);break;default:wt(this,2)}}},m.h.IK=function(t){if(!m.Ma(arguments,this.o))throw Error("Unexpected channel state: "+this.o)},m.h.xX=function(t){t?Nt(2):(Nt(1),xt(this,8))},m.h.Vs=function(t){if(t)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new m.Ex).H=!1,t},m.h.isActive=function(){return!!this.Dd&&this.Dd.isActive(this)},m.h.Gf=function(t){vs.dispatchEvent(new ut(vs,t))},m.h.tn=function(){return!(!m.Id||m.rc(10))},m.h=Gt.prototype,m.h.yz=function(){},m.h.xz=function(){},m.h.wz=function(){},m.h.Gs=function(){},m.h.uA=function(){return{}},m.h.isActive=function(){return!0},m.C(_t,m.L),m.h=_t.prototype,m.h.CV=function(){this.Ed=Math.min(3e5,2*this.Ed),this.B(),this.A&&this.start()},m.h.start=function(){var t=this.Ed+15e3*Math.random();m.Du(this.o,t),this.A=(0,m.H)()+t},m.h.stop=function(){this.o.stop(),this.A=0},m.h.isActive=function(){return this.o.isActive()},m.h.reset=function(){this.o.stop(),this.Ed=5e3},m.C(Ht,Gt),m.h=Ht.prototype,m.h.subscribe=function(t,e,i){return this.B.subscribe(t,e,i)},m.h.unsubscribe=function(t,e,i){return this.B.unsubscribe(t,e,i)},m.h.de=function(t){return this.B.de(t)},m.h.U=function(t,e){return this.B.U.apply(this.B,arguments)},m.h.dispose=function(){this.K||(this.K=!0,m.lf(this.B),Ut(this),m.lf(this.A),this.A=null)},m.h.la=function(){return this.K},m.h.connect=function(t,e,i){if(!this.o||2!=this.o.o){this.J="",this.A.stop(),this.D=t||null,this.C=e||0,t=this.L+"/test",e=this.L+"/bind";var s=new ht(i?i.firstTestResults:null,i?i.secondTestResults:null,this.M),n=this.o;n&&(n.Dd=null),(s.Dd=this).o=s,n?this.o.connect(t,e,this.F,n.B,n.mk):i?this.o.connect(t,e,this.F,i.sessionId,i.arrayId):this.o.connect(t,e,this.F)}},m.h.sendMessage=function(t,e){var i={_sc:t};e&&m.ec(i,e),this.A.isActive()||2==(this.o?this.o.o:0)?this.G.push(i):Pt(this)&&pt(this.o,i)},m.h.yz=function(){if(this.A.reset(),this.D=null,this.C=0,this.G.length){var t=this.G;this.G=[];for(var e=0,i=t.length;e<i;++e)pt(this.o,t[e])}this.U("handlerOpened")},m.h.wz=function(t){var e=2==t&&401==this.o.Zf;4==t||e||this.A.start(),this.U("handlerError",t)},m.h.Gs=function(t){if(this.A.isActive()){if(t)for(var e=0,i=t.length;e<i;++e){var s=t[e].map;s&&this.G.push(s)}}else this.U("handlerClosed")},m.h.uA=function(){var t={v:2};return this.J&&(t.gsessionid=this.J),0!=this.C&&(t.ui=""+this.C),0!=this.H&&(t.ui=""+this.H),this.D&&m.ec(t,this.D),t},m.h.xz=function(t){"S"==t[0]?this.J=t[1]:"gracefulReconnect"==t[0]?(this.A.start(),lt(this.o)):this.U("handlerMessage",new Tt(t[0],t[1]))},m.h.dY=function(){this.A.isActive();var t=this.o,e=0;t.yc&&e++,t.ke&&e++,0!=e||this.connect(this.D,this.C)},Mt.prototype.C=function(t,e,i,s){t(e?s:{text:i.responseText})},Mt.prototype.B=function(t,e){t(Error("Request error: "+e.status))},Mt.prototype.D=function(t){t(Error("request timed out"))};var ys=(0,m.H)(),gs=null,bs=Array(50),Cs=-1,As=!1;m.C(Jt,m.eG),Jt.prototype.De=function(){return this.o},Jt.prototype.contains=function(t){return!!A(this.o,t)},Jt.prototype.get=function(t){return t?B(this.o,t):null},Jt.prototype.info=function(t){Lt(this.G,t)},m.C(qt,m.eG);var Bs=[2e3,2e3,1e3,1e3,1e3,2e3,2e3,5e3,5e3,1e4];m.h=qt.prototype,m.h.start=function(){!this.o&&(0,v.isNaN)(this.Ga)&&this.cH()},m.h.stop=function(){this.o&&(this.o.abort(),this.o=null),(0,v.isNaN)(this.Ga)||(m.zE(this.Ga),this.Ga=v.NaN)},m.h.X=function(){this.stop(),qt.fa.X.call(this)},m.h.cH=function(){this.Ga=v.NaN,this.o=m.OE(Rt(this.F,"/pairing/get_screen"),{method:"POST",Ub:{pairing_code:this.D},timeout:5e3,onSuccess:(0,m.B)(this.fY,this),onError:(0,m.B)(this.eY,this),Id:(0,m.B)(this.gY,this)})},m.h.fY=function(t,e){this.o=null;var i=e.screen||{};i.dialId=this.B,i.name=this.C,this.U("pairingComplete",new a(i))},m.h.eY=function(t){this.o=null,t.status&&404==t.status?this.A>=Bs.length?this.U("pairingFailed",Error("DIAL polling timed out")):(t=Bs[this.A],this.Ga=m.xE((0,m.B)(this.cH,this),t),this.A++):this.U("pairingFailed",Error("Server error "+t.status))},m.h.gY=function(){this.o=null,this.U("pairingFailed",Error("Server not responding"))},m.C(Yt,Jt),m.h=Yt.prototype,m.h.start=function(){Wt(this)&&this.U("screenChange"),!m.CH("yt-remote-lounge-token-expiration")&&Kt(this),m.zE(this.A),this.A=m.xE((0,m.B)(this.start,this),1e4)},m.h.add=function(t,e){Wt(this),Xt(this,t),Zt(this,!1),this.U("screenChange"),e(t),t.token||Kt(this)},m.h.remove=function(t,e){var i,s,n,o=Wt(this);s=t,n=(i=this).o.length,i.o=(0,m.Xd)(i.o,function(t){return!(!t&&!s||!t==!s&&t.id==s.id)}),i.o.length<n&&(Zt(this,!1),o=!0),e(t),o&&this.U("screenChange")},m.h.rr=function(t,e,i,s){var n=Wt(this),o=this.get(t.id);o?(o.name!=e&&(o.name=e,Zt(this,!1),n=!0),i(t)):s(Error("no such local screen.")),n&&this.U("screenChange")},m.h.X=function(){m.zE(this.A),Yt.fa.X.call(this)},m.h.uL=function(t){Wt(this);for(var e=this.o.length,i=0,s=(t=t&&t.screens||[]).length;i<s;++i){var n=t[i],o=this.get(n.screenId);o&&(o.token=n.loungeToken,--e)}Zt(this,!e),e&&Lt(this.G,"Missed "+e+" lounge tokens.")},m.h.tL=function(t){Lt(this.G,"Requesting lounge tokens failed: "+t)},m.C($t,m.eG),m.h=$t.prototype,m.h.start=function(){var t=(0,v.parseInt)(m.CH("yt-remote-fast-check-period")||"0",10);(this.C=(0,m.H)()-144e5<t?0:t)?ee(this):(this.C=(0,m.H)()+3e5,m.BH("yt-remote-fast-check-period",this.C),this.Gw())},m.h.isEmpty=function(){return m.Xb(this.o)},m.h.update=function(){ie("Updating availability on schedule.");var i=this.F(),t=m.Hb(this.o,function(t,e){return t&&!!B(i,e)},this);te(this,t)},m.h.X=function(){m.zE(this.B),this.B=v.NaN,this.A&&(this.A.abort(),this.A=null),$t.fa.X.call(this)},m.h.Gw=function(){m.zE(this.B),this.B=v.NaN,this.A&&this.A.abort();var t=se(this);if(m.Mb(t)){var e=Rt(this.D,"/pairing/get_screen_availability");this.A=Ft(this.D,e,{lounge_token:m.Pb(t).join(",")},(0,m.B)(this.kV,this,t),(0,m.B)(this.jV,this))}else te(this,{}),ee(this)},m.h.kV=function(t,e){this.A=null;var i=m.Pb(se(this));if(m.eb(i,m.Pb(t))){for(var s={},n=0,o=(i=e.screens||[]).length;n<o;++n)s[t[i[n].loungeToken]]="online"==i[n].status;te(this,s),ee(this)}else this.sc("Changing Screen set during request."),this.Gw()},m.h.jV=function(t){this.sc("Screen availability failed: "+t),this.A=null,ee(this)},m.h.sc=function(t){Lt("OnlineScreenService",t)},m.C(oe,Jt),m.h=oe.prototype,m.h.start=function(){this.B.start(),this.A.start(),this.o.length&&(this.U("screenChange"),this.A.isEmpty()||this.U("onlineScreenChange"))},m.h.add=function(t,e,i){this.B.add(t,e,i)},m.h.remove=function(t,e,i){this.B.remove(t,e,i),this.A.update()},m.h.rr=function(t,e,i,s){this.B.contains(t)?this.B.rr(t,e,i,s):(t="Updating name of unknown screen: "+t.name,Lt(this.G,t),s(Error(t)))},m.h.De=function(t){return t?this.o:m.Ua(this.o,(0,m.Xd)(this.C,function(t){return!this.contains(t)},this))},m.h.dH=function(){return(0,m.Xd)(this.De(!0),function(t){return!!this.A.o[t.id]},this)},m.h.eH=function(t,e,i,s,n){this.info("getDialScreenByPairingCode "+t+" / "+e);var o=new qt(this.F,t,e,i);return o.subscribe("pairingComplete",(0,m.B)(function(t){m.lf(o),s(le(this,t))},this)),o.subscribe("pairingFailed",function(t){m.lf(o),n(t)}),o.start(),(0,m.B)(o.stop,o)},m.h.iY=function(t,h,r,e){m.OE(Rt(this.F,"/pairing/get_screen"),{method:"POST",Ub:{pairing_code:t},timeout:5e3,onSuccess:(0,m.B)(function(t,e){var i=new a(e.screen||{});if(!i.name||re(this,i.name)){t:{for(var s=i.name,n=2,o=h(s,n);re(this,o);){if(20<++n)break t;o=h(s,n)}s=o}i.name=s}r(le(this,i))},this),onError:(0,m.B)(function(t){e(Error("pairing request failed: "+t.status))},this),Id:(0,m.B)(function(){e(Error("pairing request timed out."))},this)})},m.h.X=function(){m.lf(this.B),m.lf(this.A),oe.fa.X.call(this)},m.h.JL=function(){ce(this),this.U("screenChange"),this.A.update()},oe.prototype.dispose=oe.prototype.dispose,m.C(fe,m.eG),m.h=fe.prototype,m.h.tq=function(t){this.B=t,this.U("sessionScreen",this.B)},m.h.He=function(t){this.la()||(t&&pe(this,""+t),this.B=null,this.U("sessionScreen",null))},m.h.info=function(t){Lt(this.M,t)},m.h.gH=function(){return null},m.h.Pw=function(t){var e=this.A;t?(e.displayStatus=new v.chrome.cast.ReceiverDisplayStatus(t,[]),e.displayStatus.showStop=!0):e.displayStatus=null,v.chrome.cast.setReceiverDisplayStatus(e,(0,m.B)(function(){this.info("Updated receiver status for "+e.friendlyName+": "+t)},this),(0,m.B)(function(){pe(this,"Failed to update receiver status for: "+e.friendlyName)},this))},m.h.X=function(){this.Pw(""),fe.fa.X.call(this)},m.C(me,fe),m.h=me.prototype,m.h.Ow=function(t){if(this.o){if(this.o==t)return;pe(this,"Overriding cast sesison with new session object"),this.o.removeUpdateListener(this.F),this.o.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.D)}this.o=t,this.o.addUpdateListener(this.F),this.o.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.D),function(t){t.info("sendYoutubeMessage_: getMdxSessionStatus "+m.Gg(void 0));var e={type:"getMdxSessionStatus"};t.o?t.o.sendMessage("urn:x-cast:com.google.youtube.mdx",e,m.A,(0,m.B)(function(){pe(this,"Failed to send message: getMdxSessionStatus.")},t)):pe(t,"Sending yt message without session: "+m.Gg(e))}(this)},m.h.pk=function(t){this.info("launchWithParams no-op for Cast: "+m.Gg(t))},m.h.stop=function(){this.o?this.o.stop((0,m.B)(function(){this.He()},this),(0,m.B)(function(){this.He(Error("Failed to stop receiver app."))},this)):this.He(Error("Stopping cast device witout session."))},m.h.Pw=m.A,m.h.X=function(){this.info("disposeInternal"),m.zE(this.C),this.C=0,this.o&&(this.o.removeUpdateListener(this.F),this.o.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.D)),this.o=null,me.fa.X.call(this)},m.h.oW=function(t,e){if(!this.la())if(e){var i=m.yx(e);if(m.za(i)){var s=""+i.type;switch(i=i.data||{},this.info("onYoutubeMessage_: "+s+" "+m.Gg(i)),s){case"mdxSessionStatus":ve(this,i.screenId);break;default:pe(this,"Unknown youtube message: "+s)}}else pe(this,"Unable to parse message.")}else pe(this,"No data in message.")},m.h.EA=function(e,i,s,n){he(this.J,this.A.label,e,this.A.friendlyName,(0,m.B)(function(t){t?i(t):0<=n?(pe(this,"Screen "+e+" appears to be offline. "+n+" retries left."),m.xE((0,m.B)(this.EA,this,e,i,s,n-1),300)):s(Error("Unable to fetch screen."))},this),s)},m.h.gH=function(){return this.o},m.h.jY=function(t){this.la()||t||(pe(this,"Cast session died."),this.He())},m.C(ye,fe),m.h=ye.prototype,m.h.Ow=function(t){this.C=t,this.C.addUpdateListener(this.L)},m.h.pk=function(t){this.D=t,this.G()},m.h.stop=function(){this.o(),this.o=m.A,m.zE(this.F),this.C?this.C.stop((0,m.B)(this.He,this,null),(0,m.B)(this.He,this,"Failed to stop DIAL device.")):this.He()},m.h.X=function(){this.o(),this.o=m.A,m.zE(this.F),this.C&&this.C.removeUpdateListener(this.L),this.C=null,ye.fa.X.call(this)},m.h.mY=function(t){this.la()||t||(pe(this,"DIAL session died."),this.o(),this.o=m.A,this.He())},m.h.pu=function(e){if(this.K=C(),this.D){var t=new v.chrome.cast.DialLaunchResponse(!0,be(this));e(t),ge(this)}else this.G=(0,m.B)(function(){m.zE(this.F),this.G=m.A,this.F=v.NaN;var t=new v.chrome.cast.DialLaunchResponse(!0,be(this));e(t),ge(this)},this),this.F=m.xE((0,m.B)(function(){this.G()},this),100)},m.h.XM=function(t,e,i){he(this.J,this.H.receiver.label,t,this.A.friendlyName,(0,m.B)(function(t){t&&t.token?(this.tq(t),e(new v.chrome.cast.DialLaunchResponse(!1))):this.pu(e,i)},this),(0,m.B)(function(t){pe(this,"Failed to get DIAL screen: "+t),this.pu(e,i)},this))},m.C(Ce,fe),Ce.prototype.stop=function(){this.He()},Ce.prototype.Ow=m.A,Ce.prototype.pk=function(){m.zE(this.o),this.o=v.NaN;var t=B(this.J.De(),this.A.label);t?this.tq(t):this.He(Error("No such screen"))},Ce.prototype.X=function(){m.zE(this.o),this.o=v.NaN,Ce.fa.X.call(this)},m.C(Ae,m.eG),m.h=Ae.prototype,m.h.init=function(t,e){v.chrome.cast.timeout.requestSession=3e4;var i=new v.chrome.cast.SessionRequest(this.G);this.H||(i.dialRequest=new v.chrome.cast.DialRequest("YouTube"));var s=v.chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED,n=t?v.chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:v.chrome.cast.DefaultActionPolicy.CREATE_SESSION;(i=new v.chrome.cast.ApiConfig(i,(0,m.B)(this.DE,this),(0,m.B)(this.SU,this),s,n)).customDialLaunchCallback=(0,m.B)(this.JS,this),v.chrome.cast.initialize(i,(0,m.B)(function(){var t;this.la()||(v.chrome.cast.addReceiverActionListener(this.C),t=ke,jt(),gs.push(t),zt(gs),this.A.subscribe("onlineScreenChange",(0,m.B)(this.fH,this)),this.B=De(this),v.chrome.cast.setCustomReceivers(this.B,m.A,(0,m.B)(function(t){this.sc("Failed to set initial custom receivers: "+m.Gg(t))},this)),this.U("yt-remote-cast2-availability-change",we(this)),e(!0))},this),(0,m.B)(function(t){this.sc("Failed to initialize API: "+m.Gg(t)),e(!1)},this))},m.h.gX=function(t,e){if(Se("Setting connected screen ID: "+t+" -> "+e),this.o){var i=this.o.B;(!t||i&&i.id!=t)&&(Se("Unsetting old screen status: "+this.o.A.friendlyName),xe(this,null))}if(t&&e){if(!this.o){if(!(i=B(this.A.De(),t)))return void Se("setConnectedScreenStatus: Unknown screen.");var s=Be(this,i);s||(Se("setConnectedScreenStatus: Connected receiver not custom..."),(s=new v.chrome.cast.Receiver(i.uuid?i.uuid:i.id,i.name)).receiverType=v.chrome.cast.ReceiverType.CUSTOM,this.B.push(s),v.chrome.cast.setCustomReceivers(this.B,m.A,(0,m.B)(function(t){this.sc("Failed to set initial custom receivers: "+m.Gg(t))},this))),Se("setConnectedScreenStatus: new active receiver: "+s.friendlyName),xe(this,new Ce(this.A,s),!0)}this.o.Pw(e)}else Se("setConnectedScreenStatus: no screen.")},m.h.hX=function(t){this.la()?this.sc("Setting connection data on disposed cast v2"):this.o?this.o.pk(t):this.sc("Setting connection data without a session")},m.h.lY=function(){this.la()?this.sc("Stopping session on disposed cast v2"):this.o?(this.o.stop(),xe(this,null)):Se("Stopping non-existing session")},m.h.requestSession=function(){v.chrome.cast.requestSession((0,m.B)(this.DE,this),(0,m.B)(this.oV,this))},m.h.X=function(){this.A.unsubscribe("onlineScreenChange",(0,m.B)(this.fH,this)),v.chrome&&v.chrome.cast&&v.chrome.cast.removeReceiverActionListener(this.C),m.Sa(m.y("yt.mdx.remote.debug.handlers_")||[],ke),m.lf(this.o),Ae.fa.X.call(this)},m.h.sc=function(t){Lt("Controller",t)},m.h.EE=function(t,e){this.o==t&&(e||xe(this,null),this.U("yt-remote-cast2-session-change",e))},m.h.OU=function(t,e){if(!this.la())if(t)switch(t.friendlyName=v.chrome.cast.unescape(t.friendlyName),Se("onReceiverAction_ "+t.label+" / "+t.friendlyName+"-- "+e),e){case v.chrome.cast.ReceiverAction.CAST:if(this.o){if(this.o.A.label==t.label){Se("onReceiverAction_: Casting to active receiver."),this.o.B&&this.U("yt-remote-cast2-session-change",this.o.B);break}Se("onReceiverAction_: Stopping active receiver: "+this.o.A.friendlyName),this.o.stop()}switch(t.receiverType){case v.chrome.cast.ReceiverType.CUSTOM:xe(this,new Ce(this.A,t));break;case v.chrome.cast.ReceiverType.DIAL:xe(this,new ye(this.A,t,this.F));break;case v.chrome.cast.ReceiverType.CAST:xe(this,new me(this.A,t));break;default:this.sc("Unknown receiver type: "+t.receiverType)}break;case v.chrome.cast.ReceiverAction.STOP:this.o&&this.o.A.label==t.label?this.o.stop():this.sc("Stopping receiver w/o session: "+t.friendlyName)}else this.sc("onReceiverAction_ called without receiver.")},m.h.JS=function(t){if(this.la())return v.Promise.reject(Error("disposed"));var e=t.receiver;e.receiverType!=v.chrome.cast.ReceiverType.DIAL&&(this.sc("Not DIAL receiver: "+e.friendlyName),e.receiverType=v.chrome.cast.ReceiverType.DIAL);var i=this.o?this.o.A:null;if(!i||i.label!=e.label)return this.sc("Receiving DIAL launch request for non-clicked DIAL receiver: "+e.friendlyName),v.Promise.reject(Error("illegal DIAL launch"));if(i&&i.label==e.label&&i.receiverType!=v.chrome.cast.ReceiverType.DIAL){if(this.o.B)return Se("Reselecting dial screen."),this.U("yt-remote-cast2-session-change",this.o.B),v.Promise.resolve(new v.chrome.cast.DialLaunchResponse(!1));this.sc('Changing CAST intent from "'+i.receiverType+'" to "dial" for '+e.friendlyName),xe(this,new ye(this.A,e,this.F))}return(e=this.o).H=t,e.H.appState==v.chrome.cast.DialAppState.RUNNING?new v.Promise((0,m.B)(e.XM,e,(e.H.extraData||{}).screenId||null)):new v.Promise((0,m.B)(e.pu,e))},m.h.DE=function(t){if(!this.la()){Se("New cast session ID: "+t.sessionId);var e=t.receiver;if(e.receiverType!=v.chrome.cast.ReceiverType.CUSTOM){if(!this.o){if(e.receiverType!=v.chrome.cast.ReceiverType.CAST)return void this.sc("Got non-cast session without previous mdx receiver event, or mdx resume.");Se("Got resumed cast session before resumed mdx connection."),e.friendlyName=v.chrome.cast.unescape(e.friendlyName),xe(this,new me(this.A,e),!0)}var i=this.o.A,s=B(this.A.De(),i.label);s&&u(s,e.label)&&i.receiverType!=v.chrome.cast.ReceiverType.CAST&&e.receiverType==v.chrome.cast.ReceiverType.CAST&&(Se("onSessionEstablished_: manual to cast session change "+e.friendlyName),m.lf(this.o),this.o=new me(this.A,e),this.o.subscribe("sessionScreen",(0,m.B)(this.EE,this,this.o)),this.o.pk(null)),this.o.Ow(t)}}},m.h.kY=function(){return this.o?this.o.gH():null},m.h.oV=function(t){this.la()||(this.sc("Failed to estabilish a session: "+m.Gg(t)),t.code!=v.chrome.cast.ErrorCode.CANCEL&&xe(this,null))},m.h.SU=function(t){if(Se("Receiver availability updated: "+t),!this.la()){var e=we(this);this.D=t==v.chrome.cast.ReceiverAvailability.AVAILABLE,we(this)!=e&&this.U("yt-remote-cast2-availability-change",we(this))}},m.h.fH=function(){this.la()||(this.B=De(this),Se("Updating custom receivers: "+m.Gg(this.B)),v.chrome.cast.setCustomReceivers(this.B,m.A,(0,m.B)(function(){this.sc("Failed to set custom receivers.")},this)),this.U("yt-remote-cast2-availability-change",we(this)))},Ae.prototype.setLaunchParams=Ae.prototype.hX,Ae.prototype.setConnectedScreenStatus=Ae.prototype.gX,Ae.prototype.stopSession=Ae.prototype.lY,Ae.prototype.getCastSession=Ae.prototype.kY,Ae.prototype.requestSession=Ae.prototype.requestSession,Ae.prototype.init=Ae.prototype.init,Ae.prototype.dispose=Ae.prototype.dispose;var Ss=[];m.h=Xe.prototype,m.h.reset=function(t){this.listId="",this.index=-1,this.videoId="",qe(this),this.volume=-1,this.muted=!1,t&&(this.index=t.index,this.listId=t.listId,this.videoId=t.videoId,this.playerState=t.playerState,this.volume=t.volume,this.muted=t.muted,this.audioTrackId=t.audioTrackId,this.o=t.trackData,this.eg=t.hasPrevious,this.hasNext=t.hasNext,this.G=t.playerTime,this.F=t.playerTimeAt,this.C=t.seekableStart,this.A=t.seekableEnd,this.H=t.duration,this.J=t.loadedTime,this.B=t.liveIngestionTime,this.D=!(0,v.isNaN)(this.B))},m.h.sb=function(){return 1==this.playerState},m.h.isAdPlaying=function(){return 1081==this.playerState},m.h.getDuration=function(){return this.D?this.H+Ye(this):this.H},m.h.clone=function(){return new Xe($e(this))},m.C(Qe,m.eG),m.h=Qe.prototype,m.h.play=function(){1==this.o?(this.A?this.A.play(null,m.A,ci(this,"play")):oi(this,"play"),ni(this,1,We(ti(this))),this.U("remotePlayerChange")):si(this,this.play)},m.h.pause=function(){1==this.o?(this.A?this.A.pause(null,m.A,ci(this,"pause")):oi(this,"pause"),ni(this,2,We(ti(this))),this.U("remotePlayerChange")):si(this,this.pause)},m.h.bH=function(t){if(1==this.o){if(this.A){var e=ti(this),i=new v.chrome.cast.media.SeekRequest;i.currentTime=t,i.resumeState=e.sb()||3==e.playerState?v.chrome.cast.media.ResumeState.PLAYBACK_START:v.chrome.cast.media.ResumeState.PLAYBACK_PAUSE,this.A.seek(i,m.A,ci(this,"seekTo",{newTime:t}))}else oi(this,"seekTo",{newTime:t});ni(this,3,t),this.U("remotePlayerChange")}else si(this,m.Ca(this.bH,t))},m.h.stop=function(){if(1==this.o){this.A?this.A.stop(null,m.A,ci(this,"stopVideo")):oi(this,"stopVideo");var t=ti(this);t.index=-1,t.videoId="",qe(t),hi(this,t),this.U("remotePlayerChange")}else si(this,this.stop)},m.h.setVolume=function(t,e){if(1==this.o){var i=ti(this);if(this.B){if(i.volume!=t){var s=Math.round(t)/100;this.B.setReceiverVolumeLevel(s,(0,m.B)(function(){Lt("CP","set receiver volume: "+s)},this),(0,m.B)(function(){this.sc("failed to set receiver volume.")},this))}i.muted!=e&&this.B.setReceiverMuted(e,(0,m.B)(function(){Lt("CP","set receiver muted: "+e)},this),(0,m.B)(function(){this.sc("failed to set receiver muted.")},this))}else{var n={volume:t,muted:e};-1!=i.volume&&(n.delta=t-i.volume),oi(this,"setVolume",n)}i.muted=e,i.volume=t,hi(this,i)}else si(this,m.Ca(this.setVolume,t,e))},m.h.UF=function(t,e){if(1==this.o){var i=ti(this),s={videoId:t};e&&(i.o={trackName:e.name,languageCode:e.languageCode,sourceLanguageCode:e.translationLanguage?e.translationLanguage.languageCode:"",languageName:e.languageName,format:e.format,kind:e.kind},s.style=m.Gg(e.style),m.ec(s,i.o)),oi(this,"setSubtitlesTrack",s),hi(this,i)}else si(this,m.Ca(this.UF,t,e))},m.h.Mx=function(t,e){if(1==this.o){oi(this,"setAudioTrack",{videoId:t,audioTrackId:e.Nb.id});var i=ti(this);i.audioTrackId=e.Nb.id,hi(this,i)}else si(this,m.Ca(this.Mx,t,e))},m.h.aH=function(t,e){if(1==this.o){if(t&&e){var i=ti(this);Ze(i,t,e),hi(this,i)}oi(this,"previous")}else si(this,m.Ca(this.aH,t,e))},m.h.ZG=function(t,e){if(1==this.o){if(t&&e){var i=ti(this);Ze(i,t,e),hi(this,i)}oi(this,"next")}else si(this,m.Ca(this.ZG,t,e))},m.h.Yz=function(){1==this.o?oi(this,"dismissAutoplay"):si(this,this.Yz)},m.h.dispose=function(){if(3!=this.o){var t=this.o;this.o=3,this.U("proxyStateChange",t,this.o)}Qe.fa.dispose.call(this)},m.h.X=function(){ii(this),this.C=null,this.D.clear(),ri(this,null),Qe.fa.X.call(this)},m.h.Nx=function(t){if((t!=this.o||2==t)&&3!=this.o&&0!=t){var e=this.o;if(this.o=t,this.U("proxyStateChange",e,t),1==t)for(;!this.D.isEmpty();)m.TC(this.D).apply(this);else 3==t&&this.dispose()}},m.h.JU=function(t,e){this.U(t,e)},m.h.gS=function(t){if(t){if(this.B.receiver.volume){t=this.B.receiver.volume;var e=ti(this),i=Math.round(100*t.level||0);e.volume==i&&e.muted==t.muted||(Lt("CP","Cast volume update: "+t.level+(t.muted?" muted":"")),e.volume=i,e.muted=!!t.muted,hi(this,e))}}else this.cn(null),ri(this,null)},m.h.cn=function(t){Lt("CP","Cast media: "+!!t),this.A&&this.A.removeUpdateListener(this.H),(this.A=t)&&(this.A.addUpdateListener(this.H),ai(this),this.U("remotePlayerChange"))},m.h.fS=function(t){t?(ai(this),this.U("remotePlayerChange")):this.cn(null)},m.h.tS=function(){var t=_e();t&&ri(this,t)},m.h.sc=function(t){Lt("CP",t)},m.C(ui,m.eG),m.h=ui.prototype,m.h.connect=function(t,e){if(e){var i=e.listId,s=e.videoId,n=e.playerParams,o=e.clickTrackingParams,h=e.index,r={videoId:s},a=e.currentTime,c=e.locationInfo;m.u(a)&&(r.currentTime=a<=5?0:a),n&&(r.playerParams=n),c&&(r.locationInfo=c),o&&(r.clickTrackingParams=o),i&&(r.listId=i),m.u(h)&&(r.currentIndex=h),i&&(this.jb.listId=i),this.jb.videoId=s,this.jb.index=h||0,this.jb.state=3,Ke(this.jb,a),this.C="UNSUPPORTED",li("Connecting with setPlaylist and params: "+m.Gg(r)),this.o.connect({method:"setPlaylist",params:m.Gg(r)},t,D())}else li("Connecting without params"),this.o.connect({},t,D());var u;(u=this).D=m.xE((0,m.B)(function(){li("Connecting timeout"),this.F(1)},u),2e4)},m.h.dispose=function(){this.la()||(this.U("beforeDispose"),fi(this,3)),ui.fa.dispose.call(this)},m.h.X=function(){pi(this),vi(this),mi(this),m.zE(this.J),this.J=v.NaN,m.zE(this.K),this.K=v.NaN,this.B=null,m.PF(this.V),this.V.length=0,this.o.dispose(),ui.fa.X.call(this),this.C=this.G=this.A=this.jb=this.o=null},m.h.lL=function(){this.F(2)},m.h.kS=function(){var t;li("Channel opened"),this.O&&(this.O=!1,mi(this),this.M=m.xE((0,m.B)(function(){li("Timing out waiting for a screen."),this.F(1)},this),15e3)),function(t,e){m.BH("yt-remote-session-browser-channel",t),m.BH("yt-remote-session-screen-id",e);var i=S(),s=w();m.Ma(i,s)||i.push(s),k(i),x()}({firstTestResults:[""],secondTestResults:!(t=this.o).o.vr,sessionId:t.o.B,arrayId:t.o.mk},this.ba)},m.h.hS=function(){li("Channel closed"),(0,v.isNaN)(this.D)?N(!0):N(),this.dispose()},m.h.iS=function(t){N(),(0,v.isNaN)(this.H())?(li("Channel error: "+t+" without reconnection"),this.dispose()):(this.O=!0,li("Channel error: "+t+" with reconnection in "+this.H()+" ms"),fi(this,2))},m.h.jS=function(t){switch(t.params?li("Received: action="+t.action+", params="+m.Gg(t.params)):li("Received: action="+t.action+" {}"),t.action){case"loungeStatus":t=m.yx(t.params.devices),this.A=(0,m.J)(t,function(t){return new y(t)}),t=!!m.Ha(this.A,function(t){return"LOUNGE_SCREEN"==t.type}),yi(this,t);break;case"loungeScreenDisconnected":m.Ta(this.A,function(t){return"LOUNGE_SCREEN"==t.type}),yi(this,!1);break;case"remoteConnected":var e=new y(m.yx(t.params.device));m.Ha(this.A,function(t){return!!e&&t.id==e.id})||m.Qa(this.A,e);break;case"remoteDisconnected":e=new y(m.yx(t.params.device)),m.Ta(this.A,function(t){return!!e&&t.id==e.id});break;case"gracefulDisconnect":break;case"playlistModified":gi(this,t);break;case"nowPlaying":f=this,(p=t).params=p.params||{},gi(f,p),bi(f,p),f.U("autoplayDismissed");break;case"onStateChange":bi(this,t);break;case"onAdStateChange":!function(t,e){if(-1e3!=t.jb.playerState){var i=1085;switch((0,v.parseInt)(e.params.adState,10)){case 1:i=1081;break;case 2:i=1084;break;case 0:i=1083}t.jb.playerState=i,i=(0,v.parseInt)(e.params.currentTime,10),Ke(t.jb,(0,v.isNaN)(i)?0:i),t.U("remotePlayerChange")}}(this,t);break;case"onVolumeChanged":u=this,d="true"==(l=t).params.muted,u.jb.volume=(0,v.parseInt)(l.params.volume,10),u.jb.muted=d,u.U("remotePlayerChange");break;case"onSubtitlesTrackChanged":r=this,c=(a=t).params.videoId,delete a.params.videoId,c==r.jb.videoId&&(m.Xb(a.params)?r.jb.o=null:r.jb.o=a.params,r.U("remotePlayerChange"));break;case"nowAutoplaying":h=t,(o=this).G=h.params.videoId,o.U("nowAutoplaying",(0,v.parseInt)(h.params.timeout,10));break;case"autoplayDismissed":this.U("autoplayDismissed");break;case"autoplayUpNext":this.G=t.params.videoId||null,this.U("autoplayUpNext",this.G);break;case"onAutoplayModeChanged":this.C=t.params.autoplayMode,this.U("autoplayModeChange",this.C),"DISABLED"==this.C&&this.U("autoplayDismissed");break;case"onHasPreviousNextChanged":i=this,n="true"==(s=t).params.hasNext,i.jb.eg="true"==s.params.hasPrevious,i.jb.hasNext=n,i.U("previousNextChange");break;case"requestAssistedSignIn":this.U("assistedSignInRequested",t.params.authCode);break;default:li("Unrecognized action: "+t.action)}var i,s,n,o,h,r,a,c,u,l,d,f,p},m.h.QW=function(){if(this.B){var t=this.B;this.B=null,this.jb.videoId!=t&&Ai(this,"getNowPlaying")}},ui.prototype.subscribe=ui.prototype.subscribe,ui.prototype.unsubscribeByKey=ui.prototype.de,ui.prototype.getProxyState=ui.prototype.ia=function(){var t=3;return this.la()||((t=0,v.isNaN)(this.H())?Pt(this.o)&&(0,v.isNaN)(this.D)&&(t=1):t=2),t},ui.prototype.disconnect=ui.prototype.F=function(t){li("Disconnecting with "+t),pi(this),this.U("beforeDisconnect",t),1==t&&N(),Ut(this.o,t),this.dispose()},ui.prototype.getPlayerContextData=ui.prototype.ga=function(){var t=this.jb;return this.B&&(t=this.jb.clone(),Ze(t,this.B,t.index)),$e(t)},ui.prototype.setPlayerContextData=ui.prototype.ma=function(t){var e=new Xe(t);e.videoId&&e.videoId!=this.jb.videoId&&(this.B=e.videoId,m.zE(this.J),this.J=m.xE((0,m.B)(this.QW,this),5e3));var i=[];this.jb.listId==e.listId&&this.jb.videoId==e.videoId&&this.jb.index==e.index||i.push("remoteQueueChange"),this.jb.playerState==e.playerState&&this.jb.volume==e.volume&&this.jb.muted==e.muted&&We(this.jb)==We(e)&&m.Gg(this.jb.o)==m.Gg(e.o)||i.push("remotePlayerChange"),this.jb.reset(t),(0,m.D)(i,function(t){this.U(t)},this)},ui.prototype.getOtherConnectedRemoteId=ui.prototype.Z=function(){var e=this.o.F.id,t=m.Ha(this.A,function(t){return"REMOTE_CONTROL"==t.type&&t.id!=e});return t?t.id:""},ui.prototype.getReconnectTimeout=ui.prototype.H=function(){var t=this.o;return t.A.isActive()?t.A.A-(0,m.H)():v.NaN},ui.prototype.getAutoplayMode=ui.prototype.aa=function(){return this.C||"UNSUPPORTED"},ui.prototype.getAutoplayVideoId=ui.prototype.da=function(){return this.G||""},ui.prototype.reconnect=ui.prototype.wa=function(){if(!(0,v.isNaN)(this.H())){var t=this.o.A;m.Eu(t.o),t.start()}},ui.prototype.sendMessage=ui.prototype.ka=function(t,e){Ai(this,t,e),Ci(this)},m.C(Bi,Jt),m.h=Bi.prototype,m.h.De=function(t){return this.nd.$_gs(t)},m.h.contains=function(t){return!!this.nd.$_c(t)},m.h.get=function(t){return this.nd.$_g(t)},m.h.start=function(){this.nd.$_st()},m.h.add=function(t,e,i){this.nd.$_a(t,e,i)},m.h.remove=function(t,e,i){this.nd.$_r(t,e,i)},m.h.rr=function(t,e,i,s){this.nd.$_un(t,e,i,s)},m.h.X=function(){for(var t=0,e=this.A.length;t<e;++t)this.nd.$_ubk(this.A[t]);this.A.length=0,this.nd=null,Bi.fa.X.call(this)},m.h.hY=function(){this.U("screenChange")},m.h.iU=function(){this.U("onlineScreenChange")},oe.prototype.$_st=oe.prototype.start,oe.prototype.$_gspc=oe.prototype.iY,oe.prototype.$_gsppc=oe.prototype.eH,oe.prototype.$_c=oe.prototype.contains,oe.prototype.$_g=oe.prototype.get,oe.prototype.$_a=oe.prototype.add,oe.prototype.$_un=oe.prototype.rr,oe.prototype.$_r=oe.prototype.remove,oe.prototype.$_gs=oe.prototype.De,oe.prototype.$_gos=oe.prototype.dH,oe.prototype.$_s=oe.prototype.subscribe,oe.prototype.$_ubk=oe.prototype.de;var ks=null,ws=null,xs=null,Ds=[];m.t(Ji,m.L),m.h=Ji.prototype,m.h.X=function(){m.L.prototype.X.call(this),this.C.stop(),this.F.stop(),this.L.stop(),this.O(),this.o.unsubscribe("proxyStateChange",this.AE,this),this.o.unsubscribe("remotePlayerChange",this.fn,this),this.o.unsubscribe("remoteQueueChange",this.uq,this),this.o.unsubscribe("autoplayUpNext",this.YD,this),this.o.unsubscribe("previousNextChange",this.xE,this),this.o.unsubscribe("nowAutoplaying",this.pE,this),this.o.unsubscribe("autoplayDismissed",this.XD,this),this.o=this.D=null},m.h.TC=function(t,e){for(var i=[],s=1;s<arguments.length;++s)i[s-1]=arguments[s];if(2!=this.o.o)if(Zi(this)){if(!ti(this.o).isAdPlaying()||"control_seek"!=t)switch(t){case"control_toggle_play_pause":ti(this.o).sb()?this.o.pause():this.o.play();break;case"control_play":this.o.play();break;case"control_pause":this.o.pause();break;case"control_seek":this.K.Zl(i[0],i[1]);break;case"control_subtitles_set_track":Yi(this,i[0]);break;case"control_set_audio_track":i=i[0],Zi(this)&&this.o.Mx(this.A.getVideoData(1).videoId,i)}}else switch(t){case"control_toggle_play_pause":case"control_play":case"control_pause":i=this.A.getCurrentTime(),Ki(this,0==i?void 0:i);break;case"control_seek":Ki(this,i[0]);break;case"control_subtitles_set_track":Yi(this,i[0]);break;case"control_set_audio_track":i=i[0],Zi(this)&&this.o.Mx(this.A.getVideoData(1).videoId,i)}},m.h.eS=function(t){this.L.gL(t)},m.h.IX=function(t){this.TC("control_subtitles_set_track",m.Xb(t)?null:t)},m.h.kG=function(){var t=this.A.Cc("captions","track");m.Xb(t)||Yi(this,t)},m.h.mE=function(t){if(Zi(this)){this.o.unsubscribe("remotePlayerChange",this.fn,this);var e=Math.round(t.volume);t=!!t.muted;var i=ti(this.o);e==i.volume&&t==i.muted||(this.o.setVolume(e,t),this.M.start()),this.o.subscribe("remotePlayerChange",this.fn,this)}},m.h.zT=function(){m.Xb(this.G)||Wi(this,this.G),this.H=!1},m.h.AE=function(t,e){this.F.stop(),2==e&&this.hG()},m.h.fn=function(){if(Zi(this)){this.C.stop();var t=ti(this.o);switch(t.playerState){case 1080:case 1081:case 1084:case 1085:this.D.G=1;break;case 1082:case 1083:this.D.G=0;break;default:this.D.G=-1}switch(t.playerState){case 1081:case 1:$i(this,new m.zP(8)),this.gG();break;case 1085:case 3:$i(this,new m.zP(9));break;case 1083:case 0:$i(this,new m.zP(2)),this.K.stop(),Xi(this,this.A.getVideoData().lengthSeconds);break;case 1084:$i(this,new m.zP(4));break;case 2:$i(this,new m.zP(4)),Xi(this,We(t));break;case-1:$i(this,new m.zP(64));break;case-1e3:$i(this,new m.zP(128,{errorCode:"mdx.remoteerror",message:"Це відео недоступне для віддаленого відтворення."}))}t=ti(this.o).o;var e=this.G;!t&&!e||t&&e&&t.trackName==e.trackName&&t.languageCode==e.languageCode&&t.languageName==e.languageName&&t.format==e.format&&t.kind==e.kind||(this.G=t,Wi(this,t)),-1==(t=ti(this.o)).volume||Math.round(this.A.getVolume())==t.volume&&this.A.isMuted()==t.muted||this.M.isActive()||this.KG()}else qi(this)},m.h.xE=function(){this.A.U("mdxpreviousnextchange")},m.h.uq=function(){Zi(this)||qi(this)},m.h.jK=function(){this.o.Yz()},m.h.YD=function(t){t&&(t=m.OE("/watch_queue_ajax",{method:"GET",dd:{action_get_watch_queue_item:1,video_id:t},onSuccess:(0,m.B)(this.PV,this)}))&&(this.O=(0,m.B)(t.abort,t))},m.h.PV=function(t,e){var i=new m.QO(m.X(this.A),{videoId:e.videoId,title:e.title,author:e.author,murlmq_webp:e.url});this.suggestion=i,this.A.U("mdxautoplayupnext",i)},m.h.pE=function(t){(0,v.isNaN)(t)||this.A.U("mdxnowautoplaying",t)},m.h.XD=function(){this.A.U("mdxautoplaycanceled")},m.h.gQ=function(t,e){-1==ti(this.o).playerState?Ki(this,t):e&&this.o.bH(t)},m.h.KG=function(){if(Zi(this)){var t=ti(this.o);this.B.Ka(this.V),t.muted?this.A.mute():this.A.ng(),this.A.setVolume(t.volume),this.V=this.B.R(this.A,"onVolumeChange",this.mE)}},m.h.gG=function(){if(this.C.stop(),!this.o.la()){var t=ti(this.o);t.sb()&&$i(this,new m.zP(8)),Xi(this,We(t)),this.C.start()}},m.h.hG=function(){this.F.stop(),this.C.stop();var t=this.o.C.getReconnectTimeout();2==this.o.o&&!(0,v.isNaN)(t)&&this.F.start()},m.t(Qi,m.V),Qi.prototype.D=function(t){ts(this,t.state)},m.t(es,m.rY),es.prototype.L=function(){var t=this.B.Cc("remote","receivers");t&&1<t.length&&!this.B.Cc("remote","quickCast")?(this.J=m.gb(t,this.F,this),m.sY(this,(0,m.J)(t,this.F)),t=this.B.Cc("remote","currentReceiver"),this.Ff(this.F(t)),this.enable(!0)):this.enable(!1)},es.prototype.F=function(t){return t.key},es.prototype.Ef=function(t){return"cast-selector-receiver"==t?"Транслювати через…":this.J[t].name},es.prototype.Gd=function(t){m.rY.prototype.Gd.call(this,t),this.B.Xd("remote","currentReceiver",this.J[t]),this.D.Tb()},m.t(is,m.sU),m.h=is.prototype,m.h.create=function(){Si(m.iN(m.X(this.player))),this.D.push(m.rG("yt-remote-before-disconnect",this.aS,this)),this.D.push(m.rG("yt-remote-connection-change",this.TU,this)),this.D.push(m.rG("yt-remote-receiver-availability-change",this.yE,this)),this.D.push(m.rG("yt-remote-auto-connect",this.RU,this)),this.D.push(m.rG("yt-remote-receiver-resumed",this.QU,this)),this.yE()},m.h.load=function(){this.player.jv(),m.sU.prototype.load.call(this),this.C=new Ji(this,this.player,this.o);var t=(t=Ui())?t.currentTime:0,e=Ni()?new Qe(Mi(),void 0):null;0==t&&e&&(t=We(ti(e))),0!=t&&(this.J=t||0,this.player.U("progresssync",t,void 0)),ss(this,this.F,this.F),m.L_(this.player.app,6)},m.h.unload=function(){this.player.U("mdxautoplaycanceled"),this.B=this.A,m.mf(this.C,this.o),this.o=this.C=null,m.sU.prototype.unload.call(this),m.L_(this.player.app,5)},m.h.X=function(){m.sG(this.D),m.sU.prototype.X.call(this)},m.h.Sm=function(t,e){for(var i=[],s=1;s<arguments.length;++s)i[s-1]=arguments[s];this.loaded&&this.C.TC.apply(this.C,[t].concat(m.ea(i)))},m.h.bL=function(){return this.loaded?this.C.suggestion:null},m.h.eg=function(){return!!this.o&&ti(this.o).eg},m.h.hasNext=function(){return!!this.o&&ti(this.o).hasNext},m.h.getCurrentTime=function(){return this.J},m.h.UP=function(){var t=ti(this.o),e=this.player.getVideoData();return{allowSeeking:m.X(this.player).experiments.o("web_player_mdx_allow_seeking_change_killswitch")?this.player.Lc():!t.isAdPlaying()&&this.player.Lc(),clipEnd:e.clipEnd,clipStart:e.clipStart,current:this.getCurrentTime(),displayedStart:-1,duration:t.getDuration(),ingestionTime:t.D?t.B+Ye(t):t.B,isPeggedToLive:(t.D?t.A+Ye(t):t.A)-this.getCurrentTime()<=1,loaded:t.J,seekableEnd:t.D?t.A+Ye(t):t.A,seekableStart:0<t.C?t.C+Ye(t):t.C}},m.h.VP=function(){this.o&&this.o.ZG()},m.h.WP=function(){this.o&&this.o.aH()},m.h.aS=function(t){1==t&&(this.K=this.o?ti(this.o):null)},m.h.TU=function(){var t=Ni()?new Qe(Mi(),void 0):null;if(t){var e=this.B;this.loaded&&this.unload(),this.o=t,this.K=null,e.key!=this.A.key&&(this.B=e,this.load())}else m.lf(this.o),this.o=null,this.loaded&&(this.unload(),(t=this.K)&&t.videoId==this.player.getVideoData().videoId&&this.player.zC(t.videoId,We(t)));this.player.U("videodatachange","newdata",this.player.getVideoData(),3)},m.h.yE=function(){var t;this.H=[this.A].concat((t=ki(),Ne()&&m.CH("yt-remote-cast-available")&&t.push({key:"cast-selector-receiver",name:"Cast..."}),t));var e=wi()||this.A;ns(this,e),this.player.ya("onMdxReceiversChange")},m.h.RU=function(){var t=wi();ns(this,t)},m.h.QU=function(){this.B=wi()},m.h.TP=function(t,e){switch(t){case"casting":return this.loaded;case"receivers":return this.H;case"currentReceiver":return e&&("cast-selector-receiver"==e.key?He():ns(this,e)),this.loaded?this.B:this.A;case"quickCast":return 2==this.H.length&&"cast-selector-receiver"==this.H[1].key&&(e&&He(),!0)}},m.h.XP=function(){oi(this.o,"sendDebugCommand",{debugCommand:"stats4nerds "})},m.h.Ec=function(){return!1},m.rX.remote=is}(_yt_player);
//# sourceMappingURL=maps/remote.js.map
