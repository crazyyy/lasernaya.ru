var r7k12_key = '99da94833f7a9e3975587b7b3d5e5446';var Counter=(function(){function Counter(){this.u='https://r7k12.com/{{KEY}}/counter/';this.query={h: '',e: '',ci: ''};this.errJs='1';this.err404='0';this.error404url='';this.domain=null;this.JsErrors=[];this.Errors404=[];this.feedbackStatus=!0;if(this.sK()===!1)return;this.setDomain();this.setAB();this.sH();this.sC();this.sR();this.sT();this.sS();this.sU();this.sG();this.sY();this.setIntervalForR7K12();if(this.errJs=='1')this.tEJS();if(this.err404=='1' && this.error404url)this.trackingError404();}Counter.prototype.setIntervalForR7K12=function(){setInterval(function(){window['r7k12']=window['r7k12']||[];var r7k12=window['r7k12'],max=r7k12.length - 1,i;for(i=0;i<=max;i++){if(r7k12[i]['done'] !=undefined && r7k12[i]['done']==1)continue;r7k12[i]['done']=1;if(r7k12[i]['hit'])R7K12.send(r7k12[i]['hit'],r7k12[i]['data']||{});if(r7k12[i]['widget']){if(r7k12[i]['widget']['feedback'] !==undefined)R7K12.feedbackStatus=r7k12[i]['widget']['feedback'];}if(r7k12[i]['set'] && typeof r7k12[i]['set']=='object')R7K12.set(r7k12[i]['set']);}},100);};Counter.prototype.setDomain=function(){Counter.domain=!this.domain ? location.host :(location.host.indexOf(this.domain)!=-1 ? this.domain : location.host);};Counter.prototype.sK=function(){if(!window['r7k12_key'])return !1;this.key=window['r7k12_key'];};Counter.prototype.setAB=function(){var ab=location.search.match(/r7k12_ab=([^&$]+)/),p=location.search.match(/r7k12_ab_p=([0-9]+)/),_s={set: []},c=new Date;c.setDate(c.getDate()+730);if(ab && ab[1] && p && p[1]){document.cookie="r7k12_ab="+ab[1]+";path=/;domain=."+Counter.domain+";expires="+c.toUTCString()+";";document.cookie="r7k12_ab_p="+p[1]+";path=/;domain=."+Counter.domain+";expires="+c.toUTCString()+";";}ab=document.cookie.match(/r7k12_ab=([^;$]+)/);p=document.cookie.match(/r7k12_ab_p=([0-9]+)/);if(!ab||!ab[1]||!p||!p[1])return;_s.set['param'+p[1]]=ab[1];window['r7k12']=window['r7k12']||[];window['r7k12'].unshift(_s);};Counter.prototype.sH=function(){this.query.h=location.href;};Counter.prototype.sC=function(){var clientId=document.cookie.match(/r7k12_ci=([^;$]+)/);if(clientId && clientId[1]){this.query.ci=clientId[1];}else{this.query.ci=Math.random().toString().replace(/0\./,'')+'.'+new Date().getTime();var date=new Date;date.setDate(date.getDate()+730);document.cookie="r7k12_ci="+this.query.ci+";path=/;domain=."+Counter.domain+";expires="+date.toUTCString()+";";}try{window.localStorage.setItem('r7k12_ci',this.query.ci);}catch(e){}};Counter.prototype.sR=function(){if(document.referrer && document.referrer !='undefined')this.query.r=document.referrer;};Counter.prototype.sT=function(){var t=document.title;if(t)this.query.t=t;};Counter.prototype.sS=function(i){if(i){var date=new Date;date.setDate(date.getDate()+1);document.cookie="r7k12_si="+i+";path=/;domain=."+Counter.domain+";expires="+date.toUTCString()+";";try{window.localStorage.setItem('r7k12_si',i);}catch(e){}this.si=i;window['r7k12_si']=i;return !0;}var si=this.getSessionId();if(!si)return !1;this.si=si;};Counter.setSource=function(source){var date=new Date;date.setDate(date.getDate()+1);document.cookie="r7k12_source="+source+";path=/;domain=."+Counter.domain+";expires="+date.toUTCString()+";";try{window.localStorage.setItem('r7k12_source',source);}catch(e){}window['r7k12_source']=source;};Counter.prototype.getSessionId=function(){try{if(window['r7k12_si'])return window['r7k12_si'];var r7k12_si=document.cookie.match(/r7k12_si=([^;$]+)/);if(r7k12_si && r7k12_si[1])return r7k12_si[1];r7k12_si=window.localStorage.getItem('r7k12_si');if(r7k12_si)return r7k12_si;return !1;}catch(e){return !1;}};Counter.prototype.sG=function(){var g=document.cookie.match(/_ga=([^;$]+)/);if(!g||!g[0])return !1;g=g[0].split('.');g=g[2]+'.'+g[3];this.query.gi=g;};Counter.prototype.sY=function(){var y=document.cookie.match(/_ym_uid=([^;$]+)/);if(!y||!y[1])return !1;window['r7k12_ym']=!0;this.query.yi=y[1];};Counter.prototype.sU=function(){this.u=this.u.replace(/\{\{KEY\}\}/,this.key);};Counter.getXHR=function(){if(XMLHttpRequest){try{return new XMLHttpRequest();}catch(e){}}else if(ActiveXObject){try{return new ActiveXObject('Msxml2.XMLHTTP');}catch(e){}try{return new ActiveXObject('Microsoft.XMLHTTP');}catch(e){}}return null;};Counter.prototype.SEND=function(REQUEST){var method=REQUEST.method ? REQUEST.method : 'POST',url=REQUEST.url.replace(/#.*$/,'')+(method=='GET' && REQUEST.query ? '?'+REQUEST.query : '')+(method=='POST' && REQUEST.postGET ? '?'+REQUEST.postGET : ''),json=REQUEST.json ? REQUEST.json : !1,query=method=='POST' && REQUEST.query ? REQUEST.query : null,xhr=Counter.getXHR();xhr.open(method,url,!0);if(method=='POST' && json===!1)xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");xhr.send(query);if(REQUEST.func){xhr.onreadystatechange=function(){if(xhr.readyState==4){REQUEST.func(xhr);}};}};Counter.prototype.set=function(variable,data){if(typeof variable=='object'){for(var key in variable)this.query[key]=variable[key];return !0;}this.query[data]=variable;return !0;};Counter.prototype.send=function(type,variable){if(variable===void 0){variable={};}if(!type.match(/^pageview$|^event$|^errorjs$|^error404|^ym$|^metric$|^crm$/))return console.error('R7K12 ERROR. Fatal event');this[type](variable);};Counter.prototype.createQuery=function(variable){var query='',q=Object.create(this.query);for(var key in variable)q[key]=variable[key];for(var key in q)query+=(query ? '&' : '')+key+'='+encodeURIComponent(q[key]);return query;};Counter.prototype.pageview=function(variable){this.query.e='pageview';var query=this.createQuery(variable);this.SEND({url: this.u,method: 'GET',query: query,func: function(xhr){if(!xhr.responseText)return console.error('R7K12. ERROR CONNECT');try{xhr=JSON.parse(xhr.responseText);new Counter().sS(xhr.id);Counter.setSource(xhr.source);Counter.getListeners();Counter.getCallTracking();Counter.getFeedBack();if(window['calltouch'] && typeof window['calltouch']=='function')window['calltouch']();}catch(e){return console.error('R7K12. ERROR CONNECT');}try{if(window['R7K12_CallBack'] && typeof window['R7K12_CallBack']=='function')window['R7K12_CallBack']();}catch(e){return console.error('R7K12_CallBack: '+e.message);}}});};Counter.prototype.event=function(variable){this.query.e='event';var query=this.createQuery(variable);this.SEND({url: this.u,method: 'GET',query: query});};Counter.prototype.errorjs=function(variable){if(this.errJs !='1')return !1;for(var _i=0,_a=this.JsErrors;_i<_a.length;_i++){var error=_a[_i];if(error['column']==variable['column'] && error['line']==variable['line'] && error['file']==variable['file'] && error['error']==variable['error'])return !0;}this.JsErrors.push(variable);var query='ci='+this.query.ci+'&h='+encodeURIComponent(this.query.h)+'&t='+encodeURIComponent(this.query.t)+'&e=errorjs&ejs='+variable['error']+'&fjs='+variable['file']+'&ljs='+variable['line']+'&cjs='+variable['column'];this.SEND({url: this.u,method: 'GET',query: query});};Counter.prototype.error404=function(variable){if(this.err404 !='1')return !1;if(!variable['referrer'])variable['referrer']=document.referrer ? document.referrer : '';if(!variable['url'])variable['url']=location.href;for(var _i=0,_a=this.Errors404;_i<_a.length;_i++){var error=_a[_i];if(error['url']==variable['url'] && error['referrer']==variable['referrer'])return !0;}this.Errors404.push(variable);var query='ci='+this.query.ci+'&h='+encodeURIComponent(variable['url'])+'&t='+encodeURIComponent(this.query.t)+'&r='+encodeURIComponent(variable['referrer'])+'&e=error404';this.SEND({url: this.u,method: 'GET',query: query});};Counter.prototype.ym=function(variable){window['r7k12_ym']=!0;this.query.yi=variable.ym;this.query.e='ym';var query=this.createQuery(variable);this.SEND({url: this.u,method: 'GET',query: query});};Counter.prototype.metric=function(variable){this.query['metric'+variable.metric]=1;this.query.e='metric';this.query.si=window['r7k12_si'];var query=this.createQuery(variable);this.SEND({url: this.u,method: 'GET',query: query});};Counter.prototype.tEJS=function(){window.addEventListener('error',function(message){if(message.message=='Script error.'||message.message=='Script error')return;window['r7k12'].push({hit: 'errorjs',data:{error: message.message ? message.message : 'Error undefined',file: message.filename ? message.filename : 'Error file undefined',line: message.lineno ? parseInt(message.lineno): 0,column: message.colno ? parseInt(message.colno): 0}});});};Counter.prototype.trackingError404=function(){var match=new RegExp(this.error404url);setInterval(function(){if(document.title.match(match)||location.href.match(match)){window['r7k12'].push({hit: 'error404',data:{url: location.href,referrer: document.referrer ? document.referrer : ''}});}},100);};Counter.prototype.crm=function(data){if(data===void 0){data={};}data.r7k12id=this.getSessionId();data.href=document.location.href;this.SEND({url: 'https://r7k12.com/'+this.key+'/crm/',json: !0,query: JSON.stringify(data)});};Counter.getListeners=function(){if(document.getElementById('r7k12_listener'))return;var script=document.createElement('script');script.id='r7k12_listener';script.async=!0;script.src='https://r7k12.com/scripts/'+window['r7k12_key']+'/listener.js';document.head.appendChild(script);};Counter.getCallTracking=function(){if(document.getElementById('r7k12_call_tracking'))return;var script=document.createElement('script');script.id='r7k12_call_tracking';script.async=!0;script.src='https://r7k12.com/scripts/'+window['r7k12_key']+'/'+R7K12.query.ci+'/calltracking.js';document.head.appendChild(script);};Counter.getFeedBack=function(){if(document.getElementById('r7k12_feed_back')||!R7K12.feedbackStatus)return;var script=document.createElement('script');script.id='r7k12_feed_back';script.async=!0;script.src='https://r7k12.com/scripts/'+window['r7k12_key']+'/feedback.js';document.body.appendChild(script);};return Counter;}());var R7K12=new Counter();